/**
 * Copyright 2019 Fermatted Drives Limited
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
var moneyButtonClient=function(t){"use strict";class e{constructor(t,e){this.title=t,this.detail=e,this.message=void 0!==e?e:t}}var r=function(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(i[r]=t[r]);return i};var n=function(t,e){if(null==t)return{};var n,i,s=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s};var i=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function o(t,e){return t(e={exports:{}},e.exports),e.exports}var u="object"==typeof s&&s&&s.Object===Object&&s,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),h=l.Symbol,d=Object.prototype,f=d.hasOwnProperty,p=d.toString,y=h?h.toStringTag:void 0;var m=function(t){var e=f.call(t,y),r=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=p.call(t);return n&&(e?t[y]=r:delete t[y]),i},_=Object.prototype.toString;var v=function(t){return _.call(t)},g=h?h.toStringTag:void 0;var w=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?m(t):v(t)};var b=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var k,S=function(t){if(!b(t))return!1;var e=w(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},O=l["__core-js_shared__"],A=(k=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var D=function(t){return!!A&&A in t},R=Function.prototype.toString;var M=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""},T=/^\[object .+?Constructor\]$/,P=Function.prototype,x=Object.prototype,j=P.toString,U=x.hasOwnProperty,Y=RegExp("^"+j.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var C=function(t){return!(!b(t)||D(t))&&(S(t)?Y:T).test(M(t))};var E=function(t,e){return null==t?void 0:t[e]};var z=function(t,e){var r=E(t,e);return C(r)?r:void 0},I=function(){try{var t=z(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var L=function(t,e,r){"__proto__"==e&&I?I(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var $=function(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var u=a[t?o:++i];if(!1===r(s[u],u,s))break}return e}}();var q=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var F=function(t){return null!=t&&"object"==typeof t};var G=function(t){return F(t)&&"[object Arguments]"==w(t)},W=Object.prototype,H=W.hasOwnProperty,N=W.propertyIsEnumerable,V=G(function(){return arguments}())?G:function(t){return F(t)&&H.call(t,"callee")&&!N.call(t,"callee")},B=Array.isArray;var Z=function(){return!1},J=o((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?l.Buffer:void 0,s=(i?i.isBuffer:void 0)||Z;t.exports=s})),Q=/^(?:0|[1-9]\d*)$/;var K=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Q.test(t))&&t>-1&&t%1==0&&t<e};var X=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object Boolean]"]=tt["[object DataView]"]=tt["[object Date]"]=tt["[object Error]"]=tt["[object Function]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object WeakMap]"]=!1;var et=function(t){return F(t)&&X(t.length)&&!!tt[w(t)]};var rt=function(t){return function(e){return t(e)}},nt=o((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r&&u.process,s=function(){try{var t=n&&n.require&&n.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=s})),it=nt&&nt.isTypedArray,st=it?rt(it):et,at=Object.prototype.hasOwnProperty;var ot=function(t,e){var r=B(t),n=!r&&V(t),i=!r&&!n&&J(t),s=!r&&!n&&!i&&st(t),a=r||n||i||s,o=a?q(t.length,String):[],u=o.length;for(var c in t)!e&&!at.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||K(c,u))||o.push(c);return o},ut=Object.prototype;var ct=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ut)};var lt=function(t,e){return function(r){return t(e(r))}},ht=lt(Object.keys,Object),dt=Object.prototype.hasOwnProperty;var ft=function(t){if(!ct(t))return ht(t);var e=[];for(var r in Object(t))dt.call(t,r)&&"constructor"!=r&&e.push(r);return e};var pt=function(t){return null!=t&&X(t.length)&&!S(t)};var yt=function(t){return pt(t)?ot(t):ft(t)};var mt=function(t,e){return t&&$(t,e,yt)};var _t=function(){this.__data__=[],this.size=0};var vt=function(t,e){return t===e||t!=t&&e!=e};var gt=function(t,e){for(var r=t.length;r--;)if(vt(t[r][0],e))return r;return-1},wt=Array.prototype.splice;var bt=function(t){var e=this.__data__,r=gt(e,t);return!(r<0)&&(r==e.length-1?e.pop():wt.call(e,r,1),--this.size,!0)};var kt=function(t){var e=this.__data__,r=gt(e,t);return r<0?void 0:e[r][1]};var St=function(t){return gt(this.__data__,t)>-1};var Ot=function(t,e){var r=this.__data__,n=gt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function At(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}At.prototype.clear=_t,At.prototype.delete=bt,At.prototype.get=kt,At.prototype.has=St,At.prototype.set=Ot;var Dt=At;var Rt=function(){this.__data__=new Dt,this.size=0};var Mt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Tt=function(t){return this.__data__.get(t)};var Pt=function(t){return this.__data__.has(t)},xt=z(l,"Map"),jt=z(Object,"create");var Ut=function(){this.__data__=jt?jt(null):{},this.size=0};var Yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ct=Object.prototype.hasOwnProperty;var Et=function(t){var e=this.__data__;if(jt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ct.call(e,t)?e[t]:void 0},zt=Object.prototype.hasOwnProperty;var It=function(t){var e=this.__data__;return jt?void 0!==e[t]:zt.call(e,t)};var Lt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jt&&void 0===e?"__lodash_hash_undefined__":e,this};function $t(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$t.prototype.clear=Ut,$t.prototype.delete=Yt,$t.prototype.get=Et,$t.prototype.has=It,$t.prototype.set=Lt;var qt=$t;var Ft=function(){this.size=0,this.__data__={hash:new qt,map:new(xt||Dt),string:new qt}};var Gt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Wt=function(t,e){var r=t.__data__;return Gt(e)?r["string"==typeof e?"string":"hash"]:r.map};var Ht=function(t){var e=Wt(this,t).delete(t);return this.size-=e?1:0,e};var Nt=function(t){return Wt(this,t).get(t)};var Vt=function(t){return Wt(this,t).has(t)};var Bt=function(t,e){var r=Wt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Zt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zt.prototype.clear=Ft,Zt.prototype.delete=Ht,Zt.prototype.get=Nt,Zt.prototype.has=Vt,Zt.prototype.set=Bt;var Jt=Zt;var Qt=function(t,e){var r=this.__data__;if(r instanceof Dt){var n=r.__data__;if(!xt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jt(n)}return r.set(t,e),this.size=r.size,this};function Kt(t){var e=this.__data__=new Dt(t);this.size=e.size}Kt.prototype.clear=Rt,Kt.prototype.delete=Mt,Kt.prototype.get=Tt,Kt.prototype.has=Pt,Kt.prototype.set=Qt;var Xt=Kt;var te=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var ee=function(t){return this.__data__.has(t)};function re(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Jt;++e<r;)this.add(t[e])}re.prototype.add=re.prototype.push=te,re.prototype.has=ee;var ne=re;var ie=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var se=function(t,e){return t.has(e)};var ae=function(t,e,r,n,i,s){var a=1&r,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var c=s.get(t),l=s.get(e);if(c&&l)return c==e&&l==t;var h=-1,d=!0,f=2&r?new ne:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var p=t[h],y=e[h];if(n)var m=a?n(y,p,h,e,t,s):n(p,y,h,t,e,s);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!ie(e,(function(t,e){if(!se(f,e)&&(p===t||i(p,t,r,n,s)))return f.push(e)}))){d=!1;break}}else if(p!==y&&!i(p,y,r,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d},oe=l.Uint8Array;var ue=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var ce=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},le=h?h.prototype:void 0,he=le?le.valueOf:void 0;var de=function(t,e,r,n,i,s,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new oe(t),new oe(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var o=ue;case"[object Set]":var u=1&n;if(o||(o=ce),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var l=ae(o(t),o(e),n,i,s,a);return a.delete(t),l;case"[object Symbol]":if(he)return he.call(t)==he.call(e)}return!1};var fe=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t};var pe=function(t,e,r){var n=e(t);return B(t)?n:fe(n,r(t))};var ye=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s};var me=function(){return[]},_e=Object.prototype.propertyIsEnumerable,ve=Object.getOwnPropertySymbols,ge=ve?function(t){return null==t?[]:(t=Object(t),ye(ve(t),(function(e){return _e.call(t,e)})))}:me;var we=function(t){return pe(t,yt,ge)},be=Object.prototype.hasOwnProperty;var ke=function(t,e,r,n,i,s){var a=1&r,o=we(t),u=o.length;if(u!=we(e).length&&!a)return!1;for(var c=u;c--;){var l=o[c];if(!(a?l in e:be.call(e,l)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var f=!0;s.set(t,e),s.set(e,t);for(var p=a;++c<u;){var y=t[l=o[c]],m=e[l];if(n)var _=a?n(m,y,l,e,t,s):n(y,m,l,t,e,s);if(!(void 0===_?y===m||i(y,m,r,n,s):_)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var v=t.constructor,g=e.constructor;v==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g||(f=!1)}return s.delete(t),s.delete(e),f},Se=z(l,"DataView"),Oe=z(l,"Promise"),Ae=z(l,"Set"),De=z(l,"WeakMap"),Re=M(Se),Me=M(xt),Te=M(Oe),Pe=M(Ae),xe=M(De),je=w;(Se&&"[object DataView]"!=je(new Se(new ArrayBuffer(1)))||xt&&"[object Map]"!=je(new xt)||Oe&&"[object Promise]"!=je(Oe.resolve())||Ae&&"[object Set]"!=je(new Ae)||De&&"[object WeakMap]"!=je(new De))&&(je=function(t){var e=w(t),r="[object Object]"==e?t.constructor:void 0,n=r?M(r):"";if(n)switch(n){case Re:return"[object DataView]";case Me:return"[object Map]";case Te:return"[object Promise]";case Pe:return"[object Set]";case xe:return"[object WeakMap]"}return e});var Ue=je,Ye=Object.prototype.hasOwnProperty;var Ce=function(t,e,r,n,i,s){var a=B(t),o=B(e),u=a?"[object Array]":Ue(t),c=o?"[object Array]":Ue(e),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=u==c;if(d&&J(t)){if(!J(e))return!1;a=!0,l=!1}if(d&&!l)return s||(s=new Xt),a||st(t)?ae(t,e,r,n,i,s):de(t,e,u,r,n,i,s);if(!(1&r)){var f=l&&Ye.call(t,"__wrapped__"),p=h&&Ye.call(e,"__wrapped__");if(f||p){var y=f?t.value():t,m=p?e.value():e;return s||(s=new Xt),i(y,m,r,n,s)}}return!!d&&(s||(s=new Xt),ke(t,e,r,n,i,s))};var Ee=function t(e,r,n,i,s){return e===r||(null==e||null==r||!F(e)&&!F(r)?e!=e&&r!=r:Ce(e,r,n,i,t,s))};var ze=function(t,e,r,n){var i=r.length,s=i,a=!n;if(null==t)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){var u=(o=r[i])[0],c=t[u],l=o[1];if(a&&o[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Xt;if(n)var d=n(c,l,u,t,e,h);if(!(void 0===d?Ee(l,c,3,n,h):d))return!1}}return!0};var Ie=function(t){return t==t&&!b(t)};var Le=function(t){for(var e=yt(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Ie(i)]}return e};var $e=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var qe=function(t){var e=Le(t);return 1==e.length&&e[0][2]?$e(e[0][0],e[0][1]):function(r){return r===t||ze(r,t,e)}};var Fe=function(t){return"symbol"==typeof t||F(t)&&"[object Symbol]"==w(t)},Ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,We=/^\w*$/;var He=function(t,e){if(B(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Fe(t))||(We.test(t)||!Ge.test(t)||null!=e&&t in Object(e))};function Ne(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(Ne.Cache||Jt),r}Ne.Cache=Jt;var Ve=Ne;var Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,Je=function(t){var e=Ve(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Be,(function(t,r,n,i){e.push(n?i.replace(Ze,"$1"):r||t)})),e}));var Qe=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},Ke=h?h.prototype:void 0,Xe=Ke?Ke.toString:void 0;var tr=function t(e){if("string"==typeof e)return e;if(B(e))return Qe(e,t)+"";if(Fe(e))return Xe?Xe.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var er=function(t){return null==t?"":tr(t)};var rr=function(t,e){return B(t)?t:He(t,e)?[t]:Je(er(t))};var nr=function(t){if("string"==typeof t||Fe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var ir=function(t,e){for(var r=0,n=(e=rr(e,t)).length;null!=t&&r<n;)t=t[nr(e[r++])];return r&&r==n?t:void 0};var sr=function(t,e,r){var n=null==t?void 0:ir(t,e);return void 0===n?r:n};var ar=function(t,e){return null!=t&&e in Object(t)};var or=function(t,e,r){for(var n=-1,i=(e=rr(e,t)).length,s=!1;++n<i;){var a=nr(e[n]);if(!(s=null!=t&&r(t,a)))break;t=t[a]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&X(i)&&K(a,i)&&(B(t)||V(t))};var ur=function(t,e){return null!=t&&or(t,e,ar)};var cr=function(t,e){return He(t)&&Ie(e)?$e(nr(t),e):function(r){var n=sr(r,t);return void 0===n&&n===e?ur(r,t):Ee(e,n,3)}};var lr=function(t){return t};var hr=function(t){return function(e){return null==e?void 0:e[t]}};var dr=function(t){return function(e){return ir(e,t)}};var fr=function(t){return He(t)?hr(nr(t)):dr(t)};var pr=function(t){return"function"==typeof t?t:null==t?lr:"object"==typeof t?B(t)?cr(t[0],t[1]):qe(t):fr(t)};var yr=function(t,e){var r={};return e=pr(e),mt(t,(function(t,n,i){L(r,n,e(t,n,i))})),r},mr=lt(Object.getPrototypeOf,Object),_r=Function.prototype,vr=Object.prototype,gr=_r.toString,wr=vr.hasOwnProperty,br=gr.call(Object);var kr=function(t){if(!F(t)||"[object Object]"!=w(t))return!1;var e=mr(t);if(null===e)return!0;var r=wr.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&gr.call(r)==br};var Sr=function(t){return function(e,r,n){var i=Object(e);if(!pt(e)){var s=pr(r);e=yt(e),r=function(t){return s(i[t],t,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}};var Or=function(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1},Ar=/^\s+|\s+$/g,Dr=/^[-+]0x[0-9a-f]+$/i,Rr=/^0b[01]+$/i,Mr=/^0o[0-7]+$/i,Tr=parseInt;var Pr=function(t){if("number"==typeof t)return t;if(Fe(t))return NaN;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ar,"");var r=Rr.test(t);return r||Mr.test(t)?Tr(t.slice(2),r?2:8):Dr.test(t)?NaN:+t};var xr=function(t){return t?(t=Pr(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var jr=function(t){var e=xr(t),r=e%1;return e==e?r?e-r:e:0},Ur=Math.max;var Yr=Sr((function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:jr(r);return i<0&&(i=Ur(n+i,0)),Or(t,pr(e),i)}));var Cr=function(t,e,r){(void 0!==r&&!vt(t[e],r)||void 0===r&&!(e in t))&&L(t,e,r)},Er=o((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?l.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}));var zr=function(t){var e=new t.constructor(t.byteLength);return new oe(e).set(new oe(t)),e};var Ir=function(t,e){var r=e?zr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Lr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},$r=Object.create,qr=function(){function t(){}return function(e){if(!b(e))return{};if($r)return $r(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Fr=function(t){return"function"!=typeof t.constructor||ct(t)?{}:qr(mr(t))};var Gr=function(t){return F(t)&&pt(t)};var Wr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Hr=Object.prototype.hasOwnProperty;var Nr=function(t,e,r){var n=t[e];Hr.call(t,e)&&vt(n,r)&&(void 0!==r||e in t)||L(t,e,r)};var Vr=function(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],u=n?n(r[o],t[o],o,r,t):void 0;void 0===u&&(u=t[o]),i?L(r,o,u):Nr(r,o,u)}return r};var Br=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Zr=Object.prototype.hasOwnProperty;var Jr=function(t){if(!b(t))return Br(t);var e=ct(t),r=[];for(var n in t)("constructor"!=n||!e&&Zr.call(t,n))&&r.push(n);return r};var Qr=function(t){return pt(t)?ot(t,!0):Jr(t)};var Kr=function(t){return Vr(t,Qr(t))};var Xr=function(t,e,r,n,i,s,a){var o=Wr(t,r),u=Wr(e,r),c=a.get(u);if(c)Cr(t,r,c);else{var l=s?s(o,u,r+"",t,e,a):void 0,h=void 0===l;if(h){var d=B(u),f=!d&&J(u),p=!d&&!f&&st(u);l=u,d||f||p?B(o)?l=o:Gr(o)?l=Lr(o):f?(h=!1,l=Er(u,!0)):p?(h=!1,l=Ir(u,!0)):l=[]:kr(u)||V(u)?(l=o,V(o)?l=Kr(o):b(o)&&!S(o)||(l=Fr(u))):h=!1}h&&(a.set(u,l),i(l,u,n,s,a),a.delete(u)),Cr(t,r,l)}};var tn=function t(e,r,n,i,s){e!==r&&$(r,(function(a,o){if(s||(s=new Xt),b(a))Xr(e,r,o,n,t,i,s);else{var u=i?i(Wr(e,o),a,o+"",e,r,s):void 0;void 0===u&&(u=a),Cr(e,o,u)}}),Qr)};var en=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},rn=Math.max;var nn=function(t,e,r){return e=rn(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=rn(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),en(t,this,o)}};var sn=function(t){return function(){return t}},an=I?function(t,e){return I(t,"toString",{configurable:!0,enumerable:!1,value:sn(e),writable:!0})}:lr,on=Date.now;var un=function(t){var e=0,r=0;return function(){var n=on(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(an);var cn=function(t,e){return un(nn(t,e,lr),t+"")};var ln=function(t,e,r){if(!b(r))return!1;var n=typeof e;return!!("number"==n?pt(r)&&K(e,r.length):"string"==n&&e in r)&&vt(r[e],t)};var hn=function(t){return cn((function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,a&&ln(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,s)}return e}))},dn=hn((function(t,e,r){tn(t,e,r)}));var fn=function t(e,r,n,i,s,a){return b(e)&&b(r)&&(a.set(r,e),tn(e,r,void 0,t,a),a.delete(r)),e},pn=hn((function(t,e,r,n){tn(t,e,r,n)}));cn((function(t){return t.push(void 0,fn),en(pn,void 0,t)}));var yn=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var mn=function(t,e,r){var n=B(t),i=n||J(t)||st(t);if(e=pr(e),null==r){var s=t&&t.constructor;r=i?n?new s:[]:b(t)&&S(s)?qr(mr(t)):{}}return(i?yn:mt)(t,(function(t,n,i){return e(r,t,n,i)})),r};var _n=function(t,e){var r={};return e=pr(e),mt(t,(function(t,n,i){L(r,e(t,n,i),t)})),r};var vn=function(t,e,r,n){if(!b(t))return t;for(var i=-1,s=(e=rr(e,t)).length,a=s-1,o=t;null!=o&&++i<s;){var u=nr(e[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var l=o[u];void 0===(c=n?n(l,u,o):void 0)&&(c=b(l)?l:K(e[i+1])?[]:{})}Nr(o,u,c),o=o[u]}return t};var gn=function(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var a=e[n],o=ir(t,a);r(o,a)&&vn(s,rr(a,t),o)}return s};var wn=function(t,e){return gn(t,e,(function(e,r){return ur(t,r)}))},bn=h?h.isConcatSpreadable:void 0;var kn=function(t){return B(t)||V(t)||!!(bn&&t&&t[bn])};var Sn=function t(e,r,n,i,s){var a=-1,o=e.length;for(n||(n=kn),s||(s=[]);++a<o;){var u=e[a];r>0&&n(u)?r>1?t(u,r-1,n,i,s):fe(s,u):i||(s[s.length]=u)}return s};var On=function(t){return(null==t?0:t.length)?Sn(t,1):[]};var An=function(t){return un(nn(t,void 0,On),t+"")}((function(t,e){return null==t?{}:wn(t,e)})),Dn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)fe(e,ge(t)),t=mr(t);return e}:me;var Rn=function(t){return pe(t,Qr,Dn)};var Mn=function(t,e){if(null==t)return{};var r=Qe(Rn(t),(function(t){return[t]}));return e=pr(e),gn(t,r,(function(t,r){return e(t,r[0])}))};var Tn=function(t,e){return function(r,n){if(null==r)return r;if(!pt(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&!1!==n(a[s],s,a););return r}}(mt);var Pn=function(t){return"function"==typeof t?t:lr};var xn=function(t,e){return(B(t)?yn:Tn)(t,Pn(e))},jn=Object.prototype.hasOwnProperty;var Un=function(t,e){return jn.call(t,e)},Yn=Array.prototype.splice;var Cn=function(t,e){for(var r=t.length-1;r>=0;r--)t[r]===e&&Yn.call(t,r,1)};var En=function(t){return t.split("").map((function(t){return"(?:"+[t.toUpperCase(),t.toLowerCase()].join("|")+")"})).join("")};function zn(){this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}zn.getInstance=function(t){var e="undefined"!=typeof process?process:s;return e.__Inflector_Inflections=e.__Inflector_Inflections||{},e.__Inflector_Inflections[t]=e.__Inflector_Inflections[t]||new zn,e.__Inflector_Inflections[t]},zn.prototype.acronym=function(t){this.acronyms[t.toLowerCase()]=t;var e=[];for(var r in this.acronyms)Un(this.acronyms,r)&&e.push(this.acronyms[r]);this.acronymRegex=new RegExp(e.join("|"))},zn.prototype.plural=function(t,e){"string"==typeof t&&Cn(this.uncountables,t),Cn(this.uncountables,e),this.plurals.unshift([t,e])},zn.prototype.singular=function(t,e){"string"==typeof t&&Cn(this.uncountables,t),Cn(this.uncountables,e),this.singulars.unshift([t,e])},zn.prototype.irregular=function(t,e){Cn(this.uncountables,t),Cn(this.uncountables,e);var r=t[0],n=t.substr(1),i=e[0],s=e.substr(1);if(r.toUpperCase()===i.toUpperCase())this.plural(new RegExp("("+r+")"+n+"$","i"),"$1"+s),this.plural(new RegExp("("+i+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+r+")"+n+"$","i"),"$1"+n),this.singular(new RegExp("("+i+")"+s+"$","i"),"$1"+n);else{var a=En(n),o=En(s);this.plural(new RegExp(r.toUpperCase()+a+"$"),i.toUpperCase()+s),this.plural(new RegExp(r.toLowerCase()+a+"$"),i.toLowerCase()+s),this.plural(new RegExp(i.toUpperCase()+o+"$"),i.toUpperCase()+s),this.plural(new RegExp(i.toLowerCase()+o+"$"),i.toLowerCase()+s),this.singular(new RegExp(r.toUpperCase()+a+"$"),r.toUpperCase()+n),this.singular(new RegExp(r.toLowerCase()+a+"$"),r.toLowerCase()+n),this.singular(new RegExp(i.toUpperCase()+o+"$"),r.toUpperCase()+n),this.singular(new RegExp(i.toLowerCase()+o+"$"),r.toLowerCase()+n)}},zn.prototype.uncountable=function(){var t=Array.prototype.slice.call(arguments,0);this.uncountables=this.uncountables.concat(t)},zn.prototype.human=function(t,e){this.humans.unshift([t,e])},zn.prototype.clear=function(t){"all"===(t=t||"all")?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]};var In=zn,Ln={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","×":"x","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"Th","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ŋ":"NG","ŋ":"ng","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z"};function $n(){for(var t in this.approximations={},Ln)this.approximate(t,Ln[t])}$n.getInstance=function(t){var e="undefined"!=typeof process?process:s;return e.__Inflector_Transliterator=e.__Inflector_Transliterator||{},e.__Inflector_Transliterator[t]=e.__Inflector_Transliterator[t]||new $n,e.__Inflector_Transliterator[t]},$n.prototype.approximate=function(t,e){this.approximations[t]=e},$n.prototype.transliterate=function(t,e){var r=this;return t.replace(/[^\u0000-\u007f]/g,(function(t){return r.approximations[t]||e||"?"}))};var qn=$n,Fn={pluralize:function(t,e){return e=e||"en",this._applyInflections(t,this.inflections(e).plurals)},singularize:function(t,e){return e=e||"en",this._applyInflections(t,this.inflections(e).singulars)},camelize:function(t,e){null==e&&(e=!0);var r=""+t,n=this;return r=(r=e?r.replace(/^[a-z\d]*/,(function(t){return n.inflections().acronyms[t]||n.capitalize(t)})):r.replace(new RegExp("^(?:"+this.inflections().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),(function(t){return t.toLowerCase()}))).replace(/(?:_|(\/))([a-z\d]*)/gi,(function(t,e,r,i,s){return e||(e=""),""+e+(n.inflections().acronyms[r]||n.capitalize(r))}))},underscore:function(t){var e=""+t;return(e=(e=(e=(e=e.replace(new RegExp("(?:([A-Za-z\\d])|^)("+this.inflections().acronymRegex.source+")(?=\\b|[^a-z])","g"),(function(t,e,r){return(e||"")+(e?"_":"")+r.toLowerCase()}))).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()},humanize:function(t,e){var r,n,i,s=""+t,a=this.inflections().humans,o=this;null!==(e=e||{}).capitalize&&void 0!==e.capitalize||(e.capitalize=!0);for(var u=0,c=a.length;u<c;u++)if(n=(r=a[u])[0],i=r[1],n.test&&n.test(s)||s.indexOf(n)>-1){s=s.replace(n,i);break}return s=(s=(s=s.replace(/_id$/,"")).replace(/_/g," ")).replace(/([a-z\d]*)/gi,(function(t){return o.inflections().acronyms[t]||t.toLowerCase()})),e.capitalize&&(s=s.replace(/^\w/,(function(t){return t.toUpperCase()}))),s},capitalize:function(t){var e=null==t?"":String(t);return e.charAt(0).toUpperCase()+e.slice(1)},titleize:function(t){return this.humanize(this.underscore(t)).replace(/(^|[\s¿\/]+)([a-z])/g,(function(t,e,r,n,i){return t.replace(r,r.toUpperCase())}))},tableize:function(t){return this.pluralize(this.underscore(t))},classify:function(t){return this.camelize(this.singularize(t.replace(/.*\./g,"")))},dasherize:function(t){return t.replace(/_/g,"-")},foreignKey:function(t,e){return null==e&&(e=!0),this.underscore(t)+(e?"_id":"id")},ordinal:function(t){var e=Math.abs(Number(t)),r=e%100;if(11===r||12===r||13===r)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},ordinalize:function(t){return""+t+this.ordinal(t)},transliterate:function(t,e){var r=(e=e||{}).locale||"en",n=e.replacement||"?";return this.transliterations(r).transliterate(t,n)},parameterize:function(t,e){void 0===(e=e||{}).separator&&(e.separator="-"),null===e.separator&&(e.separator="");var r=this.transliterate(t,e);if(r=r.replace(/[^a-z0-9\-_]+/gi,e.separator),e.separator.length){var n=new RegExp(e.separator);r=(r=r.replace(new RegExp(n.source+"{2,}"),e.separator)).replace(new RegExp("^"+n.source+"|"+n.source+"$","i"),"")}return r.toLowerCase()},_applyInflections:function(t,e){var r,n,i,s=""+t;if(0===s.length)return s;var a=s.toLowerCase().match(/\b\w+$/);if(a&&this.inflections().uncountables.indexOf(a[0])>-1)return s;for(var o=0,u=e.length;o<u;o++)if(n=(r=e[o])[0],i=r[1],s.match(n)){s=s.replace(n,i);break}return s}};var Gn={en:function(t){t.plural(/$/,"s"),t.plural(/s$/i,"s"),t.plural(/^(ax|test)is$/i,"$1es"),t.plural(/(octop|vir)us$/i,"$1i"),t.plural(/(octop|vir)i$/i,"$1i"),t.plural(/(alias|status)$/i,"$1es"),t.plural(/(bu)s$/i,"$1ses"),t.plural(/(buffal|tomat)o$/i,"$1oes"),t.plural(/([ti])um$/i,"$1a"),t.plural(/([ti])a$/i,"$1a"),t.plural(/sis$/i,"ses"),t.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),t.plural(/(hive)$/i,"$1s"),t.plural(/([^aeiouy]|qu)y$/i,"$1ies"),t.plural(/(x|ch|ss|sh)$/i,"$1es"),t.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),t.plural(/^(m|l)ouse$/i,"$1ice"),t.plural(/^(m|l)ice$/i,"$1ice"),t.plural(/^(ox)$/i,"$1en"),t.plural(/^(oxen)$/i,"$1"),t.plural(/(quiz)$/i,"$1zes"),t.singular(/s$/i,""),t.singular(/(ss)$/i,"$1"),t.singular(/(n)ews$/i,"$1ews"),t.singular(/([ti])a$/i,"$1um"),t.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),t.singular(/(^analy)(sis|ses)$/i,"$1sis"),t.singular(/([^f])ves$/i,"$1fe"),t.singular(/(hive)s$/i,"$1"),t.singular(/(tive)s$/i,"$1"),t.singular(/([lr])ves$/i,"$1f"),t.singular(/([^aeiouy]|qu)ies$/i,"$1y"),t.singular(/(s)eries$/i,"$1eries"),t.singular(/(m)ovies$/i,"$1ovie"),t.singular(/(x|ch|ss|sh)es$/i,"$1"),t.singular(/^(m|l)ice$/i,"$1ouse"),t.singular(/(bus)(es)?$/i,"$1"),t.singular(/(o)es$/i,"$1"),t.singular(/(shoe)s$/i,"$1"),t.singular(/(cris|test)(is|es)$/i,"$1is"),t.singular(/^(a)x[ie]s$/i,"$1xis"),t.singular(/(octop|vir)(us|i)$/i,"$1us"),t.singular(/(alias|status)(es)?$/i,"$1"),t.singular(/^(ox)en/i,"$1"),t.singular(/(vert|ind)ices$/i,"$1ex"),t.singular(/(matr)ices$/i,"$1ix"),t.singular(/(quiz)zes$/i,"$1"),t.singular(/(database)s$/i,"$1"),t.irregular("person","people"),t.irregular("man","men"),t.irregular("child","children"),t.irregular("sex","sexes"),t.irregular("move","moves"),t.irregular("zombie","zombies"),t.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}},Wn=Object.prototype.toString;var Hn=function(t){return"[object Function]"===Wn.call(t)},Nn=Fn;for(var Vn in Nn.inflections=function(t,e){if(Hn(t)&&(e=t,t=null),t=t||"en",!e)return In.getInstance(t);e(In.getInstance(t))},Nn.transliterations=function(t,e){if(Hn(t)&&(e=t,t=null),t=t||"en",!e)return qn.getInstance(t);e(qn.getInstance(t))},Gn)Nn.inflections(Vn,Gn[Vn]);var Bn=Nn,Zn=function(t,e){switch(t=Bn.underscore(t),e.keyForAttribute){case"dash-case":case"lisp-case":case"spinal-case":case"kebab-case":return Bn.dasherize(t);case"underscore_case":case"snake_case":return t;case"CamelCase":return Bn.camelize(t);case"camelCase":return Bn.camelize(t,!1);default:return Bn.dasherize(t)}},Jn=function(t){return Bn.pluralize(t)},Qn=function(t,e,r,n){function i(t){return Array.isArray(t)||kr(t)}function s(t){return kr(t)?mn(t,(function(t,e,r){i(e)?t[s(r)]=s(e):t[s(r)]=e})):Array.isArray(t)?t.map((function(t){return i(t)?s(t):t})):S(n.keyForAttribute)?n.keyForAttribute(t):Zn(t,n)}function a(){return n.id||"id"}function o(t,e){var r;return e=e||{},S(n.typeForAttribute)&&(r=n.typeForAttribute(t,e)),void 0!==n.pluralizeType&&!n.pluralizeType||void 0!==r||(r=Jn(t)),void 0===r&&(r=t),r}function u(t,r,n){return yr(r,(function(r){return S(r)?r(e,t,n):r}))}function c(t,r){return S(r)?r(e):yr(r,(function(r){return S(r)?r(e,t):r}))}function l(t,e){return _n(An(t,e),(function(t,e){return s(e)}))}function h(t,e){var n,i=(n=e,Yr(r.included,{id:n.id,type:n.type}));i?(i.relationships=dn(i.relationships,Mn(e.relationships,lr)),i.attributes=dn(i.attributes,Mn(e.attributes,lr))):(t.included||(t.included=[]),t.included.push(e))}this.serialize=function(t,e,r,n){var i=this,a=null;if(n&&n.ref){if(t.relationships||(t.relationships={}),a=Array.isArray(e[r])?e[r].map((function(t){return i.serializeRef(t,e,r,n)})):i.serializeRef(e[r],e,r,n),t.relationships[s(r)]={},n.ignoreRelationshipData||(t.relationships[s(r)].data=a),n.relationshipLinks){var o=u(e[r],n.relationshipLinks,t);o.related&&(t.relationships[s(r)].links=o)}n.relationshipMeta&&(t.relationships[s(r)].meta=c(e[r],n.relationshipMeta))}else Array.isArray(e[r])?(a=e[r].length&&kr(e[r][0])?e[r].map((function(t){return i.serializeNested(t,e,r,n)})):e[r],t.attributes[s(r)]=a):kr(e[r])?(a=i.serializeNested(e[r],e,r,n),t.attributes[s(r)]=a):t.attributes[s(r)]=e[r]},this.serializeRef=function(t,e,n,s){var a=this,c=function(t,e,r){if(S(r.ref))return r.ref(t,e);if(!0===r.ref){if(Array.isArray(e))return e.map((function(t){return String(t)}));if(e)return String(e)}else if(e&&e[r.ref])return String(e[r.ref])}(e,t,s),d=o(n,t),f=[],p=[];s.attributes&&(t&&s.attributes.forEach((function(e){s[e]&&!t[e]&&s[e].nullIfMissing&&(t[e]=null)})),f=s.attributes.filter((function(t){return s[t]})),p=s.attributes.filter((function(t){return!s[t]})));var y={type:d,id:c};return p&&(y.attributes=l(t,p)),f.forEach((function(e){t&&(i(t[e])||null===t[e])&&a.serialize(y,t,e,s[e])})),p.length&&(void 0===s.included||s.included)&&(s.includedLinks&&(y.links=u(t,s.includedLinks)),void 0!==c&&h(r,y)),void 0!==c?{type:d,id:c}:null},this.serializeNested=function(t,e,r,n){var s=this,a=[],o=[];n&&n.attributes?(a=n.attributes.filter((function(t){return n[t]})),o=n.attributes.filter((function(t){return!n[t]}))):o=yt(t);var u={};return o&&(u.attributes=l(t,o)),a.forEach((function(e){i(t[e])&&s.serialize(u,t,e,n[e])})),u.attributes},this.perform=function(){var r=this;if(null===e)return null;n&&n.transform&&(e=n.transform(e));var i={type:o(t,e)};return e[a()]&&(i.id=String(e[a()])),n.dataLinks&&(i.links=u(e,n.dataLinks)),n.dataMeta&&(i.meta=c(e,n.dataMeta)),xn(n.attributes,(function(t){var s=t.split(":");if(n[t]&&!e[t]&&n[t].nullIfMissing&&(e[t]=null),s[0]in e){i.attributes||(i.attributes={});var a=t;s.length>1&&(t=s[0],a=s[1]),r.serialize(i,e,t,n[a])}})),i}},Kn=hn((function(t,e){Vr(e,Qr(e),t)}));var Xn=function(t,e,r){return null==t?t:vn(t,e,r)},ti=function(t,e,r){var n={};function i(t){return Array.isArray(t)||kr(t)}function s(t){return kr(t)?mn(t,(function(t,e,r){i(e)?t[s(r)]=s(e):t[s(r)]=e})):Array.isArray(t)?t.map((function(t){return i(t)?s(t):t})):S(r.keyForAttribute)?r.keyForAttribute(t):Zn(t,r)}function a(t){var e=s(t.attributes||{});return"id"in t&&(e[r.id||"id"]=t.id),r.typeAsAttribute&&"type"in t&&(e.type=t.type),"meta"in t&&(e.meta=s(t.meta||{})),e}function o(t){if(t.relationships){var e={};return Promise.all(Object.keys(t.relationships).map((function(r){var n=t.relationships[r];if(null!==n.data)return Array.isArray(n.data)?Promise.all(n.data.map((function(e){return u(e,r,t)}))).then((function(t){t&&(e[s(r)]=t)})):u(n.data,r,t).then((function(t){t&&(e[s(r)]=t)}));e[s(r)]=null}))).then((function(){return e}))}}function u(e,i,s){return function(e,r,i){return new Promise((function(s){if(!t.included||!e)return s(null);var u=Yr(t.included,{id:e.id,type:e.type}),c=[i.type,i.id,r,e.type,e.id];return sr(n,c,!1)?s(null):(dn(n,Xn({},c,!0)),u?Promise.all([a(u),o(u)]).then((function(t){var e=t[0],r=t[1];s(Kn(e,r))})):s(null))}))}(e,i,s).then((function(t){var n=function(t,e){return r&&t&&r[t.type]?(0,r[t.type].valueForRelationship)(t,e):e}(e,t);return n&&S(n.then)?n.then((function(t){return t})):n}))}this.perform=function(){return Promise.all([a(e),o(e)]).then((function(e){var n=e[0],i=e[1],s=Kn(n,i);return t.links&&(s.links=t.links),r&&r.transform&&(s=r.transform(s)),s}))}},ei=function(t,e,r){if(this.serialize=function(t){var e,r=this,n={};return r.opts.topLevelLinks&&(n.links=(e=r.opts.topLevelLinks,yr(e,(function(e){return S(e)?e(t):e})))),r.opts.meta&&(n.meta=yr(r.opts.meta,(function(e){return S(e)?e(t):e}))),Array.isArray(t)?(n.data=[],t.forEach((function(t){var e=new Qn(r.collectionName,t,n,r.opts);n.data.push(e.perform())})),n):(n.data=new Qn(r.collectionName,t,n,r.opts).perform(t),n)},3===arguments.length)return this.collectionName=t,this.opts=r,this.serialize(e);this.collectionName=t,this.opts=e},ri=function(t){t||(t={}),this.deserialize=function(e,r){return Array.isArray(e.data)?Promise.all(e.data.map((function(r){return new ti(e,r,t).perform()}))).then((function(t){return S(r)&&r(null,t),t})):new ti(e,e.data,t).perform().then((function(t){return S(r)&&r(null,t),t}))}};function ni(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ii(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ii(Object(r),!0).forEach((function(e){ni(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class ai{constructor(t){this.message=t}}const oi=new ei("users",{attributes:["createdAt","updatedAt","deletedAt","activeWalletId","email","name","defaultCurrency","defaultLanguage","emailVerified","gravatarKey","onboardingCompletedAt","mnemonicBackedUpAt","activeHandleId","receiveEmails","bio","email","activeHandle","passwordAlreadySet"],typeForAttribute(t,e){if("users"===t)return"users";if("activeHandle"===t)return"handles";throw new Error("Unknown property ".concat(t))},activeHandle:{ref:"id",attributes:["localPart","domain"]}}),ui=["createdAt","name","defaultCurrency","defaultLanguage","bio","primaryPaymail","avatarUrl"],ci=t=>{return si({},t,{avatarUrl:(r=t.gravatarKey,"https://www.gravatar.com/avatar/".concat(r,"?d=identicon")),primaryPaymail:(e=t.activeHandle,"".concat(e.localPart,"@").concat(e.domain))});var e,r},li=new ei("profiles",{attributes:ui,transform:ci}),hi=new ei("profiles",{attributes:[...ui,"email"],transform:ci}),di=new ei("users",{attributes:["createdAt","name","url","description","oAuthIdentifier"],transform:function(t){return si({},t,{oAuthIdentifier:t.publicClient.clientIdentifier})}}),fi=new ei("amounts",{attributes:["amount","currency","satoshis"]}),pi=["createdAt","userId","txid","clientIdentifier","normalizedTxid","amount","currency","satoshis","status","statusDescription","buttonId","buttonData","amountUsd","inputAmountUsd","inputAmountSatoshis","spendAmountUsd","spendAmountSatoshis","feeAmountUsd","feeAmountSatoshis","changeAmountUsd","changeAmountSatoshis","paymentOutputs","rawtx","senderSignature","signaturePubkey","senderPaymail","cryptoOperations","referrerUrl","browserUserAgent","preserveOrder","bsvTxBuilder"],yi=new ei("payments",{attributes:pi,typeForAttribute(t,e){if("payments"===t)return"payments";if("paymentOutputs"===t)return"payment-outputs";if("cryptoOperations"===t)return"crypto-operations";throw new Error("unrecognize relation")},paymentOutputs:{ref:"index",attributes:["createdAt","to","asset","amount","currency","satoshis","type","userId","address","script","amountUsd","paymailDt","paymailPubkey","paymailPurpose","paymailRecipientHandle","paymailSenderHandle","paymailSenderName","paymailSignature"]},cryptoOperations:{ref:"index",attributes:["name","method","data","dataEncoding","value","valueEncoding","key","algorithm","publicKey","paymail","verified"]},transform:function(t){const e=Buffer.isBuffer(t.rawtx)?t.rawtx.toString("hex"):t.rawtx;return si({},t,{paymentOutputs:t.paymentOutputs.map((t,e)=>si({},t,{index:(e+1).toString()})),cryptoOperations:t.cryptoOperations.map((t,e)=>si({},t,{index:(e+1).toString()})),rawtx:e})}}),mi=new ei("email-verifications",{attributes:["email"]}),_i=new ei("spent-authorizations",{attributes:["createdAt","amount","currency","authToken","clientIdentifier","ownerId"]}),vi=new ei("spent-authorizations",{attributes:["authorization","paymentAttributes","paymentOutputs","cryptoOperations"],typeForAttribute(t,e){if("spent-authorizations"===t)return"spent-authorizations";if("authorization"===t)return"spent-authorizations";if("paymentAttributes"===t)return"payment-attributes";if("paymentOutputs"===t)return"payment-outputs";if("cryptoOperations"===t)return"crypto-operations";throw new Error("unrecognize relation: ".concat(t))},paymentAttributes:{attributes:pi},cryptoOperations:{ref:"index",attributes:["name","method","data","dataEncoding","value","valueEncoding","key","algorithm","publicKey","paymail","verified"]},transform:t=>si({},t,{paymentOutputs:t.paymentOutputs.map((t,e)=>si({},t,{index:(e+1).toString()})),cryptoOperations:t.cryptoOperations.map((t,e)=>si({},t,{index:(e+1).toString()}))})}),gi=new ei("spent-authorizations-on-wallet",{attributes:["createdAt","amount","currency","ownerId","amountLeft","app"],typeForAttribute(t,e){if("spent-authorizations-on-wallet"===t)return"spent-authorizations-on-wallet";if("app"===t)return"apps";throw new Error("unrecognize relation")},app:{attributes:["name","url"]}});var wi=Object.freeze({__proto__:null,UserSerializer:oi,ProfileSerializer:li,ProfileSerializerWithEmail:hi,ApplicationProfileSerializer:di,AmountSerializer:fi,paymentAttributes:pi,PaymentSerializer:yi,EmailVerificationSerializer:mi,SwipePermissionSerializer:_i,AuthorizedPaymentSerializer:vi,SwipePermissionOnWalletSerializer:gi});const bi=new ri({keyForAttribute:"camelCase"});function ki(t,e,r){if("string"!=typeof t)throw new ai("Missing resource id.");if("string"!=typeof e)throw new ai("Missing resource type.");return{id:t,type:e,attributes:r}}function Si(t,e){if("string"!=typeof t)throw new ai("Missing resource type.");return{type:t,attributes:e}}function Oi(t,e){let{id:r,type:n,attributes:i}=t;if("string"!=typeof r)throw new ai("Missing resource id.");if("string"!=typeof n)throw new ai("Missing resource type.");if(n!==e)throw new ai("Wrong resource type. Expected ".concat(e," but found ").concat(n,"."));return si({id:r},i)}function Ai(t,e){return t.filter(t=>t.type===e).map(t=>Oi(t,e))}function Di(t){return Mi({data:t})}function Ri(t,e){return Mi({data:t,included:e})}function Mi(t){return si({},t,{jsonapi:{version:"1.0"}})}function Ti({data:t}){if("object"!=typeof t)throw new ai("Missing data member.");return t}var Pi="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Pi&&Pi,xi="URLSearchParams"in Pi,ji="Symbol"in Pi&&"iterator"in Symbol,Ui="FileReader"in Pi&&"Blob"in Pi&&function(){try{return new Blob,!0}catch(t){return!1}}(),Yi="FormData"in Pi,Ci="ArrayBuffer"in Pi;if(Ci)var Ei=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],zi=ArrayBuffer.isView||function(t){return t&&Ei.indexOf(Object.prototype.toString.call(t))>-1};function Ii(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Li(t){return"string"!=typeof t&&(t=String(t)),t}function $i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return ji&&(e[Symbol.iterator]=function(){return e}),e}function qi(t){this.map={},t instanceof qi?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Fi(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function Gi(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function Wi(t){var e=new FileReader,r=Gi(e);return e.readAsArrayBuffer(t),r}function Hi(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ni(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:Ui&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Yi&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:xi&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Ci&&Ui&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=Hi(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ci&&(ArrayBuffer.prototype.isPrototypeOf(t)||zi(t))?this._bodyArrayBuffer=Hi(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):xi&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ui&&(this.blob=function(){var t=Fi(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Fi(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Wi)}),this.text=function(){var t,e,r,n=Fi(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=Gi(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Yi&&(this.formData=function(){return this.text().then(Zi)}),this.json=function(){return this.text().then(JSON.parse)},this}qi.prototype.append=function(t,e){t=Ii(t),e=Li(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},qi.prototype.delete=function(t){delete this.map[Ii(t)]},qi.prototype.get=function(t){return t=Ii(t),this.has(t)?this.map[t]:null},qi.prototype.has=function(t){return this.map.hasOwnProperty(Ii(t))},qi.prototype.set=function(t,e){this.map[Ii(t)]=Li(e)},qi.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},qi.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),$i(t)},qi.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),$i(t)},qi.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),$i(t)},ji&&(qi.prototype[Symbol.iterator]=qi.prototype.entries);var Vi=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Bi(t,e){if(!(this instanceof Bi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(e=e||{}).body;if(t instanceof Bi){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new qi(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new qi(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),Vi.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Zi(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function Ji(t,e){if(!(this instanceof Ji))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new qi(e.headers),this.url=e.url||"",this._initBody(t)}Bi.prototype.clone=function(){return new Bi(this,{body:this._bodyInit})},Ni.call(Bi.prototype),Ni.call(Ji.prototype),Ji.prototype.clone=function(){return new Ji(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new qi(this.headers),url:this.url})},Ji.error=function(){var t=new Ji(null,{status:0,statusText:""});return t.type="error",t};var Qi=[301,302,303,307,308];Ji.redirect=function(t,e){if(-1===Qi.indexOf(e))throw new RangeError("Invalid status code");return new Ji(null,{status:e,headers:{location:t}})};var Ki=Pi.DOMException;try{new Ki}catch(t){(Ki=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),Ki.prototype.constructor=Ki}function Xi(t,e){return new Promise((function(r,n){var i=new Bi(t,e);if(i.signal&&i.signal.aborted)return n(new Ki("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new qi,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){r(new Ji(i,n))}),0)},s.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){n(new Ki("Aborted","AbortError"))}),0)},s.open(i.method,function(t){try{return""===t&&Pi.location.href?Pi.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&(Ui?s.responseType="blob":Ci&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof qi?i.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,Li(e.headers[t]))})),i.signal&&(i.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",a)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}Xi.polyfill=!0,Pi.fetch||(Pi.fetch=Xi,Pi.Headers=qi,Pi.Request=Bi,Pi.Response=Ji);var ts=self.fetch.bind(self),es=o((function(t,e){t.exports=function(){var e,r;function n(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var r in e)h(e,r)&&(t[r]=e[r]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,r,n){return Oe(t,e,r,n,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=p(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=f(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),r=e.length>>>0,n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var _=n.momentProperties=[];function v(t,e){var r,n,i;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=p(e)),o(e._locale)||(t._locale=e._locale),_.length>0)for(r=0;r<_.length;r++)o(i=e[n=_[r]])||(t[n]=i);return t}var g=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function b(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=k(e)),r}function O(t,e,r){var n,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(n=0;n<i;n++)(r&&t[n]!==e[n]||!r&&S(t[n])!==S(e[n]))&&a++;return a+s}function A(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function D(t,e){var r=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){for(var i,s=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var o in i+="\n["+a+"] ",arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];s.push(i)}A(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var R,M={};function T(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),M[t]||(A(e),M[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t,e){var r,n=d({},t);for(r in e)h(e,r)&&(s(t[r])&&s(e[r])?(n[r]={},d(n[r],t[r]),d(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)h(t,r)&&!h(e,r)&&s(t[r])&&(n[r]=d({},n[r]));return n}function j(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,R=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)h(t,e)&&r.push(e);return r};var U={};function Y(t,e){var r=t.toLowerCase();U[r]=U[r+"s"]=U[e]=t}function C(t){return"string"==typeof t?U[t]||U[t.toLowerCase()]:void 0}function E(t){var e,r,n={};for(r in t)h(t,r)&&(e=C(r))&&(n[e]=t[r]);return n}var z={};function I(t,e){z[t]=e}function L(t,e,r){var n=""+Math.abs(t),i=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},G={};function W(t,e,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),t&&(G[t]=i),e&&(G[e[0]]=function(){return L(i.apply(this,arguments),e[1],e[2])}),r&&(G[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function H(t,e){return t.isValid()?(e=N(e,t.localeData()),F[e]=F[e]||function(t){var e,r,n,i=t.match($);for(e=0,r=i.length;e<r;e++)G[i[e]]?i[e]=G[i[e]]:i[e]=(n=i[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<r;n++)s+=P(i[n])?i[n].call(e,t):i[n];return s}}(e),F[e](t)):t.localeData().invalidDate()}function N(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(q.lastIndex=0;r>=0&&q.test(t);)t=t.replace(q,n),q.lastIndex=0,r-=1;return t}var V=/\d/,B=/\d\d/,Z=/\d{3}/,J=/\d{4}/,Q=/[+-]?\d{6}/,K=/\d\d?/,X=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,rt=/\d{1,4}/,nt=/[+-]?\d{1,6}/,it=/\d+/,st=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ct={};function lt(t,e,r){ct[t]=P(e)?e:function(t,n){return t&&r?r:e}}function ht(t,e){return h(ct,t)?ct[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,i){return e||r||n||i}))))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function pt(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),u(e)&&(n=function(t,r){r[e]=S(t)}),r=0;r<t.length;r++)ft[t[r]]=n}function yt(t,e){pt(t,(function(t,r,n,i){n._w=n._w||{},e(t,n._w,n,i)}))}function mt(t,e,r){null!=e&&h(ft,t)&&ft[t](e,r._a,r,t)}function _t(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),I("year",1),lt("Y",st),lt("YY",K,B),lt("YYYY",rt,J),lt("YYYYY",nt,Q),lt("YYYYYY",nt,Q),pt(["YYYYY","YYYYYY"],0),pt("YYYY",(function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):S(t)})),pt("YY",(function(t,e){e[0]=n.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[0]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var gt,wt=bt("FullYear",!0);function bt(t,e){return function(r){return null!=r?(St(this,t,r),n.updateOffset(this,e),this):kt(this,t)}}function kt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Ot(r,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var r,n=(e%(r=12)+r)%r;return t+=(e-n)/12,1===n?vt(t)?29:28:31-n%7%2}gt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Y("month","M"),I("month",8),lt("M",K),lt("MM",K,B),lt("MMM",(function(t,e){return e.monthsShortRegex(t)})),lt("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[1]=S(t)-1})),pt(["MMM","MMMM"],(function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);null!=i?e[1]=i:p(r).invalidMonth=t}));var At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Dt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Mt(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(i=gt.call(this._shortMonthsParse,a))?i:null:-1!==(i=gt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=gt.call(this._shortMonthsParse,a))||-1!==(i=gt.call(this._longMonthsParse,a))?i:null:-1!==(i=gt.call(this._longMonthsParse,a))||-1!==(i=gt.call(this._shortMonthsParse,a))?i:null}function Tt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Pt(t){return null!=t?(Tt(this,t),n.updateOffset(this,!0),this):kt(this,"Month")}var xt=ut,jt=ut;function Ut(){function t(t,e){return e.length-t.length}var e,r,n=[],i=[],s=[];for(e=0;e<12;e++)r=f([2e3,e]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(t),i.sort(t),s.sort(t),e=0;e<12;e++)n[e]=dt(n[e]),i[e]=dt(i[e]);for(e=0;e<24;e++)s[e]=dt(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Yt(t,e,r,n,i,s,a){var o;return t<100&&t>=0?(o=new Date(t+400,e,r,n,i,s,a),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,r,n,i,s,a),o}function Ct(t){var e;if(t<100&&t>=0){var r=Array.prototype.slice.call(arguments);r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Et(t,e,r){var n=7+e-r;return-(7+Ct(t,0,n).getUTCDay()-e)%7+n-1}function zt(t,e,r,n,i){var s,a,o=1+7*(e-1)+(7+r-n)%7+Et(t,n,i);return o<=0?a=_t(s=t-1)+o:o>_t(t)?(s=t+1,a=o-_t(t)):(s=t,a=o),{year:s,dayOfYear:a}}function It(t,e,r){var n,i,s=Et(t.year(),e,r),a=Math.floor((t.dayOfYear()-s-1)/7)+1;return a<1?n=a+Lt(i=t.year()-1,e,r):a>Lt(t.year(),e,r)?(n=a-Lt(t.year(),e,r),i=t.year()+1):(i=t.year(),n=a),{week:n,year:i}}function Lt(t,e,r){var n=Et(t,e,r),i=Et(t+1,e,r);return(_t(t)-n+i)/7}function $t(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),I("week",5),I("isoWeek",5),lt("w",K),lt("ww",K,B),lt("W",K),lt("WW",K,B),yt(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=S(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),lt("d",K),lt("e",K),lt("E",K),lt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),lt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),lt("dddd",(function(t,e){return e.weekdaysRegex(t)})),yt(["dd","ddd","dddd"],(function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);null!=i?e.d=i:p(r).invalidWeekday=t})),yt(["d","e","E"],(function(t,e,r,n){e[n]=S(t)}));var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(i=gt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=gt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=gt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=gt.call(this._weekdaysParse,a))||-1!==(i=gt.call(this._shortWeekdaysParse,a))||-1!==(i=gt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=gt.call(this._shortWeekdaysParse,a))||-1!==(i=gt.call(this._weekdaysParse,a))||-1!==(i=gt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=gt.call(this._minWeekdaysParse,a))||-1!==(i=gt.call(this._weekdaysParse,a))||-1!==(i=gt.call(this._shortWeekdaysParse,a))?i:null}var Ht=ut,Nt=ut,Vt=ut;function Bt(){function t(t,e){return e.length-t.length}var e,r,n,i,s,a=[],o=[],u=[],c=[];for(e=0;e<7;e++)r=f([2e3,1]).day(e),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),a.push(n),o.push(i),u.push(s),c.push(n),c.push(i),c.push(s);for(a.sort(t),o.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)o[e]=dt(o[e]),u[e]=dt(u[e]),c[e]=dt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Jt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Qt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Zt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+Zt.apply(this)+L(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Zt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),Y("hour","h"),I("hour",13),lt("a",Qt),lt("A",Qt),lt("H",K),lt("h",K),lt("k",K),lt("HH",K,B),lt("hh",K,B),lt("kk",K,B),lt("hmm",X),lt("hmmss",tt),lt("Hmm",X),lt("Hmmss",tt),pt(["H","HH"],3),pt(["k","kk"],(function(t,e,r){var n=S(t);e[3]=24===n?0:n})),pt(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),pt(["h","hh"],(function(t,e,r){e[3]=S(t),p(r).bigHour=!0})),pt("hmm",(function(t,e,r){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),p(r).bigHour=!0})),pt("hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(i)),p(r).bigHour=!0})),pt("Hmm",(function(t,e,r){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))})),pt("Hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(i))}));var Kt,Xt=bt("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Dt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:Gt,weekdaysShort:Ft,meridiemParse:/[ap]\.?m?\.?/i},ee={},re={};function ne(t){return t?t.toLowerCase().replace("_","-"):t}function ie(e){var r=null;if(!ee[e]&&t&&t.exports)try{r=Kt._abbr,a(),se(r)}catch(t){}return ee[e]}function se(t,e){var r;return t&&((r=o(e)?oe(t):ae(t,e))?Kt=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Kt._abbr}function ae(t,e){if(null!==e){var r,n=te;if(e.abbr=t,null!=ee[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])n=ee[e.parentLocale]._config;else{if(null==(r=ie(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;n=r._config}return ee[t]=new j(x(n,e)),re[t]&&re[t].forEach((function(t){ae(t.name,t.config)})),se(t),ee[t]}return delete ee[t],null}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Kt;if(!i(t)){if(e=ie(t))return e;t=[t]}return function(t){for(var e,r,n,i,s=0;s<t.length;){for(e=(i=ne(t[s]).split("-")).length,r=(r=ne(t[s+1]))?r.split("-"):null;e>0;){if(n=ie(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&O(i,r,!0)>=e-1)break;e--}s++}return Kt}(t)}function ue(t){var e,r=t._a;return r&&-2===p(t).overflow&&(e=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Ot(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,p(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}function ce(t,e,r){return null!=t?t:null!=e?e:r}function le(t){var e,r,i,s,a,o=[];if(!t._d){for(i=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,r,n,i,s,a,o,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,a=4,r=ce(e.GG,t._a[0],It(Ae(),1,4).year),n=ce(e.W,1),((i=ce(e.E,1))<1||i>7)&&(u=!0);else{s=t._locale._week.dow,a=t._locale._week.doy;var c=It(Ae(),s,a);r=ce(e.gg,t._a[0],c.year),n=ce(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+s,(e.e<0||e.e>6)&&(u=!0)):i=s}n<1||n>Lt(r,s,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(o=zt(r,n,i,s,a),t._a[0]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(a=ce(t._a[0],i[0]),(t._dayOfYear>_t(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),r=Ct(a,0,t._dayOfYear),t._a[1]=r.getUTCMonth(),t._a[2]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ct:Yt).apply(null,o),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(p(t).weekdayMismatch=!0)}}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((\-?\d+)/i;function _e(t){var e,r,n,i,s,a,o=t._i,u=he.exec(o)||de.exec(o);if(u){for(p(t).iso=!0,e=0,r=pe.length;e<r;e++)if(pe[e][1].exec(u[1])){i=pe[e][0],n=!1!==pe[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,r=ye.length;e<r;e++)if(ye[e][1].exec(u[3])){s=(u[2]||" ")+ye[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(u[4]){if(!fe.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(s||"")+(a||""),ke(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ge(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var we={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function be(t){var e,r,n,i,s,a,o,u=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){var c=(e=u[4],r=u[3],n=u[2],i=u[5],s=u[6],a=u[7],o=[ge(e),Rt.indexOf(r),parseInt(n,10),parseInt(i,10),parseInt(s,10)],a&&o.push(parseInt(a,10)),o);if(!function(t,e,r){return!t||Ft.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(p(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],c,t))return;t._a=c,t._tzm=function(t,e,r){if(t)return we[t];if(e)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(u[8],u[9],u[10]),t._d=Ct.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function ke(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],p(t).empty=!0;var e,r,i,s,a,o=""+t._i,u=o.length,c=0;for(i=N(t._f,t._locale).match($)||[],e=0;e<i.length;e++)s=i[e],(r=(o.match(ht(s,t))||[])[0])&&((a=o.substr(0,o.indexOf(r))).length>0&&p(t).unusedInput.push(a),o=o.slice(o.indexOf(r)+r.length),c+=r.length),G[s]?(r?p(t).empty=!1:p(t).unusedTokens.push(s),mt(s,r,t)):t._strict&&!r&&p(t).unusedTokens.push(s);p(t).charsLeftOver=u-c,o.length>0&&p(t).unusedInput.push(o),t._a[3]<=12&&!0===p(t).bigHour&&t._a[3]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),le(t),ue(t)}else be(t);else _e(t)}function Se(t){var e=t._i,r=t._f;return t._locale=t._locale||oe(t._l),null===e||void 0===r&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new w(ue(e)):(c(e)?t._d=e:i(r)?function(t){var e,r,n,i,s;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)s=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ke(e),y(e)&&(s+=p(e).charsLeftOver,s+=10*p(e).unusedTokens.length,p(e).score=s,(null==n||s<n)&&(n=s,r=e));d(t,r||e)}(t):r?ke(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(_e(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=l(e.slice(0),(function(t){return parseInt(t,10)})),le(t)):s(e)?function(t){if(!t._d){var e=E(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),le(t)}}(t):u(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),y(t)||(t._d=null),t))}function Oe(t,e,r,n,a){var o,u={};return!0!==r&&!1!==r||(n=r,r=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=r,u._i=t,u._f=e,u._strict=n,(o=new w(ue(Se(u))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ae(t,e,r,n){return Oe(t,e,r,n,!1)}n.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var De=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Re=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function Me(t,e){var r,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Ae();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}var Te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pe(t){var e=E(t),r=e.year||0,n=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,o=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===gt.call(Te,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var r=!1,n=0;n<Te.length;++n)if(t[Te[n]]){if(r)return!1;parseFloat(t[Te[n]])!==S(t[Te[n]])&&(r=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*o*60*60,this._days=+a+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=oe(),this._bubble()}function xe(t){return t instanceof Pe}function je(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ue(t,e){W(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+L(~~(t/60),2)+e+L(~~t%60,2)}))}Ue("Z",":"),Ue("ZZ",""),lt("Z",ot),lt("ZZ",ot),pt(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=Ce(ot,t)}));var Ye=/([\+\-]|\d\d)/gi;function Ce(t,e){var r=(e||"").match(t);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Ye)||["-",0,0],i=60*n[1]+S(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Ee(t,e){var r,i;return e._isUTC?(r=e.clone(),i=(b(t)||c(t)?t.valueOf():Ae(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ae(t).local()}function ze(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Le=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qe(t,e){var r,n,i,s,a,o,c=t,l=null;return xe(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:u(t)?(c={},e?c[e]=t:c.milliseconds=t):(l=Le.exec(t))?(r="-"===l[1]?-1:1,c={y:0,d:S(l[2])*r,h:S(l[3])*r,m:S(l[4])*r,s:S(l[5])*r,ms:S(je(1e3*l[6]))*r}):(l=$e.exec(t))?(r="-"===l[1]?-1:1,c={y:Fe(l[2],r),M:Fe(l[3],r),w:Fe(l[4],r),d:Fe(l[5],r),h:Fe(l[6],r),m:Fe(l[7],r),s:Fe(l[8],r)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(s=Ae(c.from),a=Ae(c.to),i=s.isValid()&&a.isValid()?(a=Ee(a,s),s.isBefore(a)?o=Ge(s,a):((o=Ge(a,s)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(c={}).ms=i.milliseconds,c.M=i.months),n=new Pe(c),xe(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Fe(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Ge(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function We(t,e){return function(r,n){var i;return null===n||isNaN(+n)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),He(this,qe(r="string"==typeof r?+r:r,n),t),this}}function He(t,e,r,i){var s=e._milliseconds,a=je(e._days),o=je(e._months);t.isValid()&&(i=null==i||i,o&&Tt(t,kt(t,"Month")+o*r),a&&St(t,"Date",kt(t,"Date")+a*r),s&&t._d.setTime(t._d.valueOf()+s*r),i&&n.updateOffset(t,a||o))}qe.fn=Pe.prototype,qe.invalid=function(){return qe(NaN)};var Ne=We(1,"add"),Ve=We(-1,"subtract");function Be(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Qe(){return this._locale}function Ke(t,e){return(t%e+e)%e}function Xe(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-126227808e5:new Date(t,e,r).valueOf()}function tr(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-126227808e5:Date.UTC(t,e,r)}function er(t,e){W(0,[t,t.length],0,e)}function rr(t,e,r,n,i){var s;return null==t?It(this,n,i).year:(e>(s=Lt(t,n,i))&&(e=s),nr.call(this,t,e,r,n,i))}function nr(t,e,r,n,i){var s=zt(t,e,r,n,i),a=Ct(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),er("gggg","weekYear"),er("ggggg","weekYear"),er("GGGG","isoWeekYear"),er("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),lt("G",st),lt("g",st),lt("GG",K,B),lt("gg",K,B),lt("GGGG",rt,J),lt("gggg",rt,J),lt("GGGGG",nt,Q),lt("ggggg",nt,Q),yt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=S(t)})),yt(["gg","GG"],(function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),Y("quarter","Q"),I("quarter",7),lt("Q",V),pt("Q",(function(t,e){e[1]=3*(S(t)-1)})),W("D",["DD",2],"Do","date"),Y("date","D"),I("date",9),lt("D",K),lt("DD",K,B),lt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],2),pt("Do",(function(t,e){e[2]=S(t.match(K)[0])}));var ir=bt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),I("dayOfYear",4),lt("DDD",et),lt("DDDD",Z),pt(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=S(t)})),W("m",["mm",2],0,"minute"),Y("minute","m"),I("minute",14),lt("m",K),lt("mm",K,B),pt(["m","mm"],4);var sr=bt("Minutes",!1);W("s",["ss",2],0,"second"),Y("second","s"),I("second",15),lt("s",K),lt("ss",K,B),pt(["s","ss"],5);var ar,or=bt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),I("millisecond",16),lt("S",et,V),lt("SS",et,B),lt("SSS",et,Z),ar="SSSS";ar.length<=9;ar+="S")lt(ar,it);function ur(t,e){e[6]=S(1e3*("0."+t))}for(ar="S";ar.length<=9;ar+="S")pt(ar,ur);var cr=bt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var lr=w.prototype;function hr(t){return t}lr.add=Ne,lr.calendar=function(t,e){var r=t||Ae(),i=Ee(r,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",a=e&&(P(e[s])?e[s].call(this,r):e[s]);return this.format(a||this.localeData().calendar(s,this,Ae(r)))},lr.clone=function(){return new w(this)},lr.diff=function(t,e,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=Ee(t,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),e=C(e)){case"year":s=Be(this,n)/12;break;case"month":s=Be(this,n);break;case"quarter":s=Be(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:k(s)},lr.endOf=function(t){var e;if(void 0===(t=C(t))||"millisecond"===t||!this.isValid())return this;var r=this._isUTC?tr:Xe;switch(t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ke(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ke(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},lr.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)},lr.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Ae(t).isValid())?qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},lr.fromNow=function(t){return this.from(Ae(),t)},lr.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Ae(t).isValid())?qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},lr.toNow=function(t){return this.to(Ae(),t)},lr.get=function(t){return P(this[t=C(t)])?this[t]():this},lr.invalidAt=function(){return p(this).overflow},lr.isAfter=function(t,e){var r=b(t)?t:Ae(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},lr.isBefore=function(t,e){var r=b(t)?t:Ae(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},lr.isBetween=function(t,e,r,n){var i=b(t)?t:Ae(t),s=b(e)?e:Ae(e);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(s,r):!this.isAfter(s,r))},lr.isSame=function(t,e){var r,n=b(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=C(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},lr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},lr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},lr.isValid=function(){return y(this)},lr.lang=Je,lr.locale=Ze,lr.localeData=Qe,lr.max=Re,lr.min=De,lr.parsingFlags=function(){return d({},p(this))},lr.set=function(t,e){if("object"==typeof t)for(var r=function(t){var e=[];for(var r in t)e.push({unit:r,priority:z[r]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=E(t)),n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit]);else if(P(this[t=C(t)]))return this[t](e);return this},lr.startOf=function(t){var e;if(void 0===(t=C(t))||"millisecond"===t||!this.isValid())return this;var r=this._isUTC?tr:Xe;switch(t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ke(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ke(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},lr.subtract=Ve,lr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},lr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},lr.toDate=function(){return new Date(this.valueOf())},lr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?H(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(r,"Z")):H(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},lr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},lr.toJSON=function(){return this.isValid()?this.toISOString():null},lr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},lr.unix=function(){return Math.floor(this.valueOf()/1e3)},lr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},lr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},lr.year=wt,lr.isLeapYear=function(){return vt(this.year())},lr.weekYear=function(t){return rr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},lr.isoWeekYear=function(t){return rr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},lr.quarter=lr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},lr.month=Pt,lr.daysInMonth=function(){return Ot(this.year(),this.month())},lr.week=lr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},lr.isoWeek=lr.isoWeeks=function(t){var e=It(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},lr.weeksInYear=function(){var t=this.localeData()._week;return Lt(this.year(),t.dow,t.doy)},lr.isoWeeksInYear=function(){return Lt(this.year(),1,4)},lr.date=ir,lr.day=lr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},lr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},lr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},lr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},lr.hour=lr.hours=Xt,lr.minute=lr.minutes=sr,lr.second=lr.seconds=or,lr.millisecond=lr.milliseconds=cr,lr.utcOffset=function(t,e,r){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ce(ot,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(i=ze(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?He(this,qe(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:ze(this)},lr.utc=function(t){return this.utcOffset(0,t)},lr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ze(this),"m")),this},lr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ce(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},lr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)},lr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},lr.isLocal=function(){return!!this.isValid()&&!this._isUTC},lr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},lr.isUtc=Ie,lr.isUTC=Ie,lr.zoneAbbr=function(){return this._isUTC?"UTC":""},lr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},lr.dates=D("dates accessor is deprecated. Use date instead.",ir),lr.months=D("months accessor is deprecated. Use month instead",Pt),lr.years=D("years accessor is deprecated. Use year instead",wt),lr.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),lr.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Se(t))._a){var e=t._isUTC?f(t._a):Ae(t._a);this._isDSTShifted=this.isValid()&&O(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var dr=j.prototype;function fr(t,e,r,n){var i=oe(),s=f().set(n,e);return i[r](s,t)}function pr(t,e,r){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return fr(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=fr(t,n,r,"month");return i}function yr(t,e,r,n){"boolean"==typeof t?(u(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,u(e)&&(r=e,e=void 0),e=e||"");var i,s=oe(),a=t?s._week.dow:0;if(null!=r)return fr(e,(r+a)%7,n,"day");var o=[];for(i=0;i<7;i++)o[i]=fr(e,(i+a)%7,n,"day");return o}dr.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return P(n)?n.call(e,r):n},dr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},dr.invalidDate=function(){return this._invalidDate},dr.ordinal=function(t){return this._ordinal.replace("%d",t)},dr.preparse=hr,dr.postformat=hr,dr.relativeTime=function(t,e,r,n){var i=this._relativeTime[r];return P(i)?i(t,e,r,n):i.replace(/%d/i,t)},dr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return P(r)?r(e):r.replace(/%s/i,e)},dr.set=function(t){var e,r;for(r in t)P(e=t[r])?this[r]=e:this["_"+r]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dr.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||At).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},dr.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dr.monthsParse=function(t,e,r){var n,i,s;if(this._monthsParseExact)return Mt.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=f([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},dr.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ut.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},dr.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ut.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=xt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},dr.week=function(t){return It(t,this._week.dow,this._week.doy).week},dr.firstDayOfYear=function(){return this._week.doy},dr.firstDayOfWeek=function(){return this._week.dow},dr.weekdays=function(t,e){var r=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?$t(r,this._week.dow):t?r[t.day()]:r},dr.weekdaysMin=function(t){return!0===t?$t(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},dr.weekdaysShort=function(t){return!0===t?$t(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},dr.weekdaysParse=function(t,e,r){var n,i,s;if(this._weekdaysParseExact)return Wt.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=f([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},dr.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},dr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},dr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=D("moment.lang is deprecated. Use moment.locale instead.",se),n.langData=D("moment.langData is deprecated. Use moment.localeData instead.",oe);var mr=Math.abs;function _r(t,e,r,n){var i=qe(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function vr(t){return t<0?Math.floor(t):Math.ceil(t)}function gr(t){return 4800*t/146097}function wr(t){return 146097*t/4800}function br(t){return function(){return this.as(t)}}var kr=br("ms"),Sr=br("s"),Or=br("m"),Ar=br("h"),Dr=br("d"),Rr=br("w"),Mr=br("M"),Tr=br("Q"),Pr=br("y");function xr(t){return function(){return this.isValid()?this._data[t]:NaN}}var jr=xr("milliseconds"),Ur=xr("seconds"),Yr=xr("minutes"),Cr=xr("hours"),Er=xr("days"),zr=xr("months"),Ir=xr("years"),Lr=Math.round,$r={ss:44,s:45,m:45,h:22,d:26,M:11};function qr(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}var Fr=Math.abs;function Gr(t){return(t>0)-(t<0)||+t}function Wr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r=Fr(this._milliseconds)/1e3,n=Fr(this._days),i=Fr(this._months);t=k(r/60),e=k(t/60),r%=60,t%=60;var s=k(i/12),a=i%=12,o=n,u=e,c=t,l=r?r.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=Gr(this._months)!==Gr(h)?"-":"",p=Gr(this._days)!==Gr(h)?"-":"",y=Gr(this._milliseconds)!==Gr(h)?"-":"";return d+"P"+(s?f+s+"Y":"")+(a?f+a+"M":"")+(o?p+o+"D":"")+(u||c||l?"T":"")+(u?y+u+"H":"")+(c?y+c+"M":"")+(l?y+l+"S":"")}var Hr=Pe.prototype;return Hr.isValid=function(){return this._isValid},Hr.abs=function(){var t=this._data;return this._milliseconds=mr(this._milliseconds),this._days=mr(this._days),this._months=mr(this._months),t.milliseconds=mr(t.milliseconds),t.seconds=mr(t.seconds),t.minutes=mr(t.minutes),t.hours=mr(t.hours),t.months=mr(t.months),t.years=mr(t.years),this},Hr.add=function(t,e){return _r(this,t,e,1)},Hr.subtract=function(t,e){return _r(this,t,e,-1)},Hr.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=C(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+gr(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(wr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Hr.asMilliseconds=kr,Hr.asSeconds=Sr,Hr.asMinutes=Or,Hr.asHours=Ar,Hr.asDays=Dr,Hr.asWeeks=Rr,Hr.asMonths=Mr,Hr.asQuarters=Tr,Hr.asYears=Pr,Hr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Hr._bubble=function(){var t,e,r,n,i,s=this._milliseconds,a=this._days,o=this._months,u=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*vr(wr(o)+a),a=0,o=0),u.milliseconds=s%1e3,t=k(s/1e3),u.seconds=t%60,e=k(t/60),u.minutes=e%60,r=k(e/60),u.hours=r%24,a+=k(r/24),i=k(gr(a)),o+=i,a-=vr(wr(i)),n=k(o/12),o%=12,u.days=a,u.months=o,u.years=n,this},Hr.clone=function(){return qe(this)},Hr.get=function(t){return t=C(t),this.isValid()?this[t+"s"]():NaN},Hr.milliseconds=jr,Hr.seconds=Ur,Hr.minutes=Yr,Hr.hours=Cr,Hr.days=Er,Hr.weeks=function(){return k(this.days()/7)},Hr.months=zr,Hr.years=Ir,Hr.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),r=function(t,e,r){var n=qe(t).abs(),i=Lr(n.as("s")),s=Lr(n.as("m")),a=Lr(n.as("h")),o=Lr(n.as("d")),u=Lr(n.as("M")),c=Lr(n.as("y")),l=i<=$r.ss&&["s",i]||i<$r.s&&["ss",i]||s<=1&&["m"]||s<$r.m&&["mm",s]||a<=1&&["h"]||a<$r.h&&["hh",a]||o<=1&&["d"]||o<$r.d&&["dd",o]||u<=1&&["M"]||u<$r.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=r,qr.apply(null,l)}(this,!t,e);return t&&(r=e.pastFuture(+this,r)),e.postformat(r)},Hr.toISOString=Wr,Hr.toString=Wr,Hr.toJSON=Wr,Hr.locale=Ze,Hr.localeData=Qe,Hr.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wr),Hr.lang=Je,W("X",0,0,"unix"),W("x",0,0,"valueOf"),lt("x",st),lt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t,10))})),pt("x",(function(t,e,r){r._d=new Date(S(t))})),n.version="2.24.0",e=Ae,n.fn=lr,n.min=function(){var t=[].slice.call(arguments,0);return Me("isBefore",t)},n.max=function(){var t=[].slice.call(arguments,0);return Me("isAfter",t)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=f,n.unix=function(t){return Ae(1e3*t)},n.months=function(t,e){return pr(t,e,"months")},n.isDate=c,n.locale=se,n.invalid=m,n.duration=qe,n.isMoment=b,n.weekdays=function(t,e,r){return yr(t,e,r,"weekdays")},n.parseZone=function(){return Ae.apply(null,arguments).parseZone()},n.localeData=oe,n.isDuration=xe,n.monthsShort=function(t,e){return pr(t,e,"monthsShort")},n.weekdaysMin=function(t,e,r){return yr(t,e,r,"weekdaysMin")},n.defineLocale=ae,n.updateLocale=function(t,e){if(null!=e){var r,n,i=te;null!=(n=ie(t))&&(i=n._config),e=x(i,e),(r=new j(e)).parentLocale=ee[t],ee[t]=r,se(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?ee[t]=ee[t].parentLocale:null!=ee[t]&&delete ee[t]);return ee[t]},n.locales=function(){return R(ee)},n.weekdaysShort=function(t,e,r){return yr(t,e,r,"weekdaysShort")},n.normalizeUnits=C,n.relativeTimeRounding=function(t){return void 0===t?Lr:"function"==typeof t&&(Lr=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==$r[t]&&(void 0===e?$r[t]:($r[t]=e,"s"===t&&($r.ss=e-1),!0))},n.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=lr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()})),rs=new RegExp("%[a-f0-9]{2}","gi"),ns=new RegExp("(%[a-f0-9]{2})+","gi");function is(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],is(r),is(n))}function ss(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(rs),r=1;r<e.length;r++)e=(t=is(e,r).join("")).match(rs);return t}}var as=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=ns.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=ss(r[0]);n!==r[0]&&(e[r[0]]=n)}r=ns.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var a=i[s];t=t.replace(new RegExp(a,"g"),e[a])}return t}(t)}};function os(t,e){return e.encode?e.strict?encodeURIComponent(t).replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase()):encodeURIComponent(t):t}function us(t,e){return e.decode?as(t):t}function cs(t){const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function ls(t,e){const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=Object.assign({decode:!0,arrayFormat:"none"},e)),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){let[t,s]=i.replace(/\+/g," ").split("=");s=void 0===s?null:us(s,e),r(us(t,e),s,n)}return Object.keys(n).sort().reduce((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(r):t[e]=r,t},Object.create(null))}for(var hs={extract:cs,parse:ls,stringify:(t,e)=>{!1===(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=()=>{});const r=function(t){switch(t.arrayFormat){case"index":return(e,r,n)=>null===r?[os(e,t),"[",n,"]"].join(""):[os(e,t),"[",os(n,t),"]=",os(r,t)].join("");case"bracket":return(e,r)=>null===r?[os(e,t),"[]"].join(""):[os(e,t),"[]=",os(r,t)].join("");default:return(e,r)=>null===r?os(e,t):[os(e,t),"=",os(r,t)].join("")}}(e);return t?Object.keys(t).sort(e.sort).map(n=>{const i=t[n];if(void 0===i)return"";if(null===i)return os(n,e);if(Array.isArray(i)){const t=[];for(const e of i.slice())void 0!==e&&t.push(r(n,e,t.length));return t.join("&")}return os(n,e)+"="+os(i,e)}).filter(t=>t.length>0).join("&"):""},parseUrl:(t,e)=>({url:t.split("?")[0]||"",query:ls(cs(t),e)})},ds=o((function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}})),fs=[],ps=0;ps<256;++ps)fs[ps]=(ps+256).toString(16).substr(1);var ys,ms,_s=function(t,e){var r=e||0,n=fs;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")},vs=0,gs=0;var ws=function(t,e,r){var n=e&&r||0,i=e||[],s=(t=t||{}).node||ys,a=void 0!==t.clockseq?t.clockseq:ms;if(null==s||null==a){var o=ds();null==s&&(s=ys=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==a&&(a=ms=16383&(o[6]<<8|o[7]))}var u=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:gs+1,l=u-vs+(c-gs)/1e4;if(l<0&&void 0===t.clockseq&&(a=a+1&16383),(l<0||u>vs)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");vs=u,gs=c,ms=a;var h=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=255&h;var d=u/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=255&d,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var f=0;f<6;++f)i[n+f]=s[f];return e||_s(i)};var bs=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||ds)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var s=0;s<16;++s)e[n+s]=i[s];return e||_s(i)},ks=bs;ks.v1=ws,ks.v4=bs;var Ss=ks;class Os{constructor(t,e,r){this.status=t,this.title=e,this.detail=r,this.message=void 0!==r?r:e}}var As,Ds=o((function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,c,l,h,d,f,p,y,m,_,v;s>=64;){for(a=r[0],o=r[1],u=r[2],c=r[3],l=r[4],h=r[5],d=r[6],f=r[7],y=0;y<16;y++)m=i+4*y,t[y]=(255&n[m])<<24|(255&n[m+1])<<16|(255&n[m+2])<<8|255&n[m+3];for(y=16;y<64;y++)_=((p=t[y-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,v=((p=t[y-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[y]=(_+t[y-7]|0)+(v+t[y-16]|0);for(y=0;y<64;y++)_=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&d)|0)+(f+(e[y]+t[y]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=d,d=h,h=l,l=c+_|0,c=u,u=o,o=a,a=_+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=c,r[4]+=l,r[5]+=h,r[6]+=d,r[7]+=f,i+=64,s-=64}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}t.HMAC=i,t.hash=s,t.default=s,t.hmac=function(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n},t.pbkdf2=function(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),c=new Uint8Array(a),l=new Uint8Array(n),h=0;h*a<n;h++){var d=h+1;o[0]=d>>>24&255,o[1]=d>>>16&255,o[2]=d>>>8&255,o[3]=d>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(c);for(var f=0;f<a;f++)u[f]=c[f];for(f=2;f<=r;f++){s.reset(),s.update(c).finish(c);for(var p=0;p<a;p++)u[p]^=c[p]}for(f=0;f<a&&h*a+f<n;f++)l[h*a+f]=u[f]}for(h=0;h<a;h++)u[h]=c[h]=0;for(h=0;h<4;h++)o[h]=0;return s.clean(),l}}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i}()})),Rs=(As=Ds)&&As.__esModule&&Object.prototype.hasOwnProperty.call(As,"default")?As.default:As;function Ms(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ms(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const Ps="mb_js_client",xs=[Ps,"oauth_redirect_uri"].join(":"),js=[Ps,"oauth_state"].join(":"),Us=[Ps,"oauth_access_token"].join(":"),Ys=[Ps,"oauth_expiration_time"].join(":"),Cs=[Ps,"oauth_refresh_token"].join(":"),{UserSerializer:Es,SwipePermissionSerializer:zs,AuthorizedPaymentSerializer:Is}=wi;const Ls=function(t,r){if(!t)throw new Error("Missing required web storage object.");if(!r)throw new Error("Missing required web location object.");class i{constructor(t,e=null,r="https://www.moneybutton.com"){this.clientId=t,this.clientSecret=e,this.refreshStrategy="refresh_token",this.mbUrl=r,this._currentUser=null}async logIn(t,e){const r=await i._computeHmac256("yours login password",e);this._clearCurrentUser(),await this._logIn(t,r)}async logInAsApp(){await this._doClientCredentialsGrantAccessTokenRequest("application_access:write"),this._clearCurrentUser(),this.refreshStrategy="client_credentials"}async _logIn(t,e){await this.isLoggedIn()&&await this.logOut(),await this._doResourceOwnerPasswordCredentialsGrantAccessTokenRequest(t,e,"general_access:write")}async logError(t){await this._doPostRequest("/v2/log-data",t)}async isLoggedIn(){return null!==await this.getValidAccessToken()}async getValidAccessToken(){let t=this.getAccessToken();if(null!==t&&es().isBefore(es(this.getExpirationTime())))return t;if("client_credentials"===this.refreshStrategy)return await this.logInAsApp(),this.getAccessToken();{const r=this.getRefreshToken();if(null===r)return null;t=null;try{await this._doRefreshAccessTokenRequest(r),t=this.getAccessToken()}catch(t){if(!(t instanceof e))throw t}return t}}async logOut(){try{if(this.getRefreshToken()){const t=await this.getValidAccessToken();t&&await ts("".concat(this.mbUrl,"/oauth/v1/revoke"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({refresh_token:this.getRefreshToken()})})}}finally{this._clearCurrentUser(),Array.from(Array(t.length).keys()).map(e=>t.key(e)).filter(t=>t.startsWith("mb_wallet")||t.startsWith(Ps)).forEach(e=>t.removeItem(e))}}async changeEmail(t,e){return this._doPutRequest("/v2/auth/email",{email:t,password:e})}async resendEmailVerification(t){return this._doPostRequest("/v2/auth/resend-email-verification",{email:t})}async resendEmailChangeRequestVerification(t){return this._doPostRequest("/v2/auth/resend-email-change-request-verification",{userId:t})}async confirmEmailVerification(t){const e=await this._doPostRequest("/v2/auth/confirm-email-verification",{},{},t);return this._clearCurrentUser(),e}async createReEncryptedWallet(t,e){return await this._doPostRequest("/v2/re-encrypted-wallets",{encryptedMnemonic:t,walletId:e})}async getReEncryptedWallets(){return await this._doGetRequest("/v2/re-encrypted-wallets")}async getFeatureFlags(){return await this._doGetRequest("/v2/feature-flags")}async getIdentity(){return Oi(Ti(await this._doGetRequest("/v1/auth/user_identity")),"user_identities")}async whoAmI(){const t=await this.isLoggedIn();if(!t)return{loggedIn:t};return{loggedIn:t,user:await this._getCurrentUser()}}async changePassword(t,e,r,n){const s=Ri(Si("users",{password:await i._computeHmac256("yours login password",t)}),[Si("wallets",{encryptedMnemonic:e,xpub:r,language:n})]);return Oi(Ti(await this._doPostRequest("/v1/auth/password_change",s)),"password_changes")}async resetPassword(t,e,r,n,s,a){const o=Ri(Si("users",{password:await i._computeHmac256("yours login password",e)}),[Si("wallets",{encryptedMnemonic:r,xpub:n,language:a})]),u=s?{forceCreate:"true"}:{},c=await this._doPostRequest("/v1/auth/password_reset",o,u,t);return this._clearCurrentUser(),Oi(Ti(c),"password_resets")}async sendPasswordReset(t){await this.isLoggedIn()&&await this.logOut(),await this._doClientCredentialsGrantAccessTokenRequest("auth.password_reset_email:write");const e=Di(Si("users",{email:t})),r=await this._doPostRequest("/v1/auth/password_reset_email",e);return await this.logOut(),Oi(Ti(r),"password_reset_emails")}async signUp(t,e,r,n,s,a){return await this.isLoggedIn()&&await this.logOut(),this._doPostRequest("/v2/auth/signup",{name:t,email:e,receiveEmails:n,defaultCurrency:s,passwordAlreadySet:a,password:await i._computeHmac256("yours login password",r)})}async deleteAccount(t){await this._doPostRequest("/v2/auth/delete-account",{password:t}),await this.logOut()}async updateRefreshToken(){const t=this.getRefreshToken();if(t&&3===t.split(".").length){const{refreshToken:e}=await this._doPostRequest("/v1/auth/update_refresh_token",{refreshToken:t});this.setRefreshToken(e)}}async assertNewRefreshTokenVersion(t){const e=this.getRefreshToken();e&&3===e.split(".").length&&(await this.logOut(),await t())}async _signUp(t,e,r,n,i,s){await this.isLoggedIn()&&await this.logOut(),await this._doClientCredentialsGrantAccessTokenRequest("auth.signup:write");const a=Di(Si("users",{email:t,password:e,name:r,defaultCurrency:n,receiveEmails:i,userChosenPassword:s})),o=await this._doPostRequest("/v1/auth/signup",a);return await this.logOut(),Oi(Ti(o),"signups")}requestAuthorization(t,e,r=null){if("string"!=typeof t||0===t.length)throw new Error("Invalid scope requested: ".concat(t,"."));if("string"!=typeof e||0===e.length)throw new Error("Invalid return URI: ".concat(e,"."));this._doAuthorizationCodeGrantAuthorizationRequest(e,t,r)}async handleAuthorizationResponse(){const{error:t,code:e,state:r}=this._getUrlQuery();if(!this._getRedirectUri())throw new Error("Required OAuth redirect URI not found in storage.");await this._handleAuthorizationCodeGrantAuthorizationResponse(t,e,r,this._getState(),this._getRedirectUri())}async authorizeWithAuthFlowResponse(t,e,r){const{error:n,code:i,state:s}=t;await this._handleAuthorizationCodeGrantAuthorizationResponse(n,i,s,e,r)}_doAuthorizationCodeGrantAuthorizationRequest(t,e,r=null){if(null!==this.clientSecret)throw new Error(["Grant `authentication_code` can only be performed by ","a public client (that is, a client with no client secret)."].join(""));null===r&&(r=Ss.v4()),this._setRedirectUri(t),this._setState(r);const n=["".concat(this.mbUrl,"/oauth/v1/authorize"),hs.stringify({response_type:"code",client_id:this.clientId,redirect_uri:t,scope:e,state:r})].join("?");this._redirectToUri(n)}async _handleAuthorizationCodeGrantAuthorizationResponse(t,r,n,i,s){if(void 0!==t)throw new e("Authorization failed.",t.message);if(void 0===r)throw new Error("Missing OAuth authorization code.");if(null===i||n!==i)throw new Error("Invalid OAuth state.");await this._doAuthorizationCodeGrantAccessTokenRequest(r,s)}async _doAuthorizationCodeGrantAccessTokenRequest(t,e){if(!e)throw new Error("Required OAuth redirect URI not found.");await this._doAccessTokenRequest({grant_type:"authorization_code",code:t,redirect_uri:e,client_id:this.clientId})}async _doResourceOwnerPasswordCredentialsGrantAccessTokenRequest(t,e,r){await this._doAccessTokenRequest({grant_type:"password",username:t,password:e,scope:r},this._buildBasicAuthHeaders())}async _doClientCredentialsGrantAccessTokenRequest(t){await this._doAccessTokenRequest({grant_type:"client_credentials",scope:t},this._buildBasicAuthHeaders())}async _doRefreshAccessTokenRequest(t){const e=await ts("".concat(this.mbUrl,"/oauth/v1/auth-proxy/token"),{method:"POST",body:JSON.stringify({grant_type:"refresh_token",refresh_token:t}),headers:{"Content-Type":"application/json"}});await this._handleAccessTokenResponse(e)}_buildBasicAuthHeaders(){if(null===this.clientSecret)return{};const t="".concat(this.clientId,":").concat(this.clientSecret);return{Authorization:"Basic ".concat(Buffer.from(t).toString("base64"))}}async _doAccessTokenRequest(t={},e={}){const r=await ts("".concat(this.mbUrl,"/oauth/v1/token"),{method:"POST",body:hs.stringify(t),headers:Ts({},e,{"Content-Type":"application/x-www-form-urlencoded"})});await this._handleAccessTokenResponse(r)}async _handleAccessTokenResponse(t){const{error:r,error_description:n,errors:i,access_token:s,token_type:a,expires_in:o,refresh_token:u,expiration_time:c}=await t.json();if(null!=r)throw new e(r,n);if(i)throw console.error(i),new e(i[0],i[0]);if("Bearer"!==a)throw new Error("Unexpected token type.");if(null!=s?this.setAccessToken(s):this.clearAccessToken(),null!=o){const t=es().add(o,"seconds");this.setExpirationTime(t.format())}else this.clearExpirationTime();if(c){const t=es(c);this.setExpirationTime(t.format())}null!=u&&this.setRefreshToken(u)}async getClientByIdentifier(t){return Oi(Ti(await this._doGetRequest("/v1/clients/client_identifier=".concat(t))),"clients")}async getAppProfileByOAuthIdentifier(t){const e=await this._doGetRequest("/v1/application_profiles/oauth_identifier=".concat(t));return bi.deserialize(e)}async getAppProfileByClientIdentifier(t){const e=await this._doGetRequest("/v1/application_profiles/client_identifier=".concat(t));return bi.deserialize(e)}async getUserByHandle(t){return Oi(Ti(await this._doGetRequest("/v1/users/handle/".concat(t))),"users")}async getUser(t){let e=await this._doGetRequest("/v1/users/".concat(t));return bi.deserialize(e)}async getCoinifyRefreshTokenById(){return await this._doGetRequest("/v1/coinify/auth-tokens")}async getCoinifyPendingOperations(){return await this._doGetRequest("/v1/coinify/pending-operations")}async registerCoinifyTrade(t){return await this._doPostRequest("/v1/coinify/trade",{tradeId:t})}async getCoinifyCountryList(){return await this._doGetRequest("/v1/coinify/countries")}async registerInCoinify(t){return await this._doPostRequest("/v1/coinify/register",{location:t})}async getUserProfile(t){let e=await this._doGetRequest("/v1/users/".concat(t,"/profile"));return bi.deserialize(e)}async updateUser(t,e={}){const r=Es.serialize(e),n=await this._doPatchRequest("/v1/users/".concat(t),r);return this._clearCurrentUser(),bi.deserialize(n)}async setOnboardCompleted(){const t=await this._doPatchRequest("/v2/me/profile/onboard-completed",{});return this._clearCurrentUser(),t}async setMnemonicBacked(){const t=await this._doPatchRequest("/v2/me/profile/mnemonic-backed",{});return this._clearCurrentUser(),t}async getUserTransactionHistory(t={}){return this._doGetRequest("/v2/me/payments/history",t)}async getUserClients(t,e={}){return Ai(Ti(await this._doGetRequest("/v1/users/".concat(t,"/clients"),e)),"clients")}async getUserUtxos(t,e={}){return Ai(Ti(await this._doGetRequest("/v1/users/".concat(t,"/utxos"),e)),"utxos")}async getUserUtxoById(t,e,r={}){return Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/utxos/").concat(e),r)),"utxos")}async getUserApplications(t,e={}){return Ai(Ti(await this._doGetRequest("/v1/users/".concat(t,"/applications"),e)),"applications")}async getUserApplicationById(t,e,r={}){return Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/applications/").concat(e),r)),"applications")}async createUserApplication(t,e){const r=Di(Si("applications",e));return Oi(Ti(await this._doPostRequest("/v1/users/".concat(t,"/applications"),r)),"applications")}async createUserSpentAuthorization(t){const e=zs.serialize(t),r=await this._doPostRequest("/v1/swipe_permissions",e);return bi.deserialize(r)}async getCurrentUserSwipePermissions(){const t=await this._doGetRequest("/v1/swipe_permissions");return bi.deserialize(t)}async getSwipePermissionAmountLeft(t){const e=await this._doPostRequest("/v1/swipe_permissions/amount-left",{authToken:t});return bi.deserialize(e)}async getCurrentUserSwipePermissionById(t){const e=await this._doGetRequest("/v1/swipe_permissions/".concat(t));return bi.deserialize(e)}async updateCurrentUserSwipePermissionById(t,e){const r=zs.serialize(e),n=await this._doPatchRequest("/v1/swipe_permissions/".concat(t),r);return bi.deserialize(n)}async deleteCurrentUserSwipePermissionById(t){await this._doDeleteRequest("/v1/swipe_permissions/".concat(t))}async createAuthorizedPayment(t,e,r,n){const i=Is.serialize({authorization:t,paymentAttributes:e,paymentOutputs:r,cryptoOperations:n});return await this._doPostRequest("/v1/swipe_permissions/make-payment",i)}async updateUserApplication(t,e,r){const n=Di(ki(e,"applications",r));return Oi(Ti(await this._doPatchRequest("/v1/users/".concat(t,"/applications/").concat(e),n)),"applications")}async createUserClient(t,e){let r=Di(Si("clients",e));return Oi(Ti(await this._doPostRequest("/v1/users/".concat(t,"/clients"),r)),"clients")}async updateUserClient(t,e,r={}){const n=Di(ki(e,"clients",r));await this._doPatchRequest("/v1/users/".concat(t,"/clients/").concat(e),n)}async getUserHandles(t,e={}){return Ai(Ti(await this._doGetRequest("/v1/users/".concat(t,"/handles"),e)),"handles")}async updateUserHandle(t,e,r={}){const n=Di(ki(e,"handles",r));return Oi(Ti(await this._doPatchRequest("/v1/users/".concat(t,"/handles/").concat(e),n)),"handles")}async checkHandleAvailability(t,e={}){let r=Di(Si("handleChecks",{search:t}));return Oi(Ti(await this._doPostRequest("/v1/handles/check",r,e)),"handleAvailabilities")}async createUserHandle(t,e){let r=Di(Si("handles",e));return Oi(Ti(await this._doPostRequest("/v1/users/".concat(t,"/handles"),r)),"handles")}async getUserWallet(t,e){let r=this.getStoredWalletData(t,e);if(null==r){r=Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/wallets/").concat(e))),"wallets"),this.saveWalletData(t,e,r)}return r}async getUserWallets(t){return Ai(Ti(await this._doGetRequest("/v1/users/".concat(t,"/wallets/"))),"wallets")}async createUserWallet(t,e){let r=Di(Si("wallets",e)),n=await this._doPostRequest("/v1/users/".concat(t,"/wallets"),r);return this._clearCurrentUser(),Oi(Ti(n),"wallets")}async getBalance(t){const e=await this._doGetRequest("/v1/users/".concat(t,"/balance"));return bi.deserialize(e)}getWalletBalances(t="active"){return this._doGetRequest("/v2/me/wallets/".concat(t,"/balances"))}async getReceiveAddress(t,e){let r=await this._doPostRequest("/v1/users/".concat(t,"/wallets/").concat(e,"/receive_address")),{address:n}=Oi(Ti(r),"addresses");return n}async getReceiveAddressSignature(t,e){let r=await this._doPostRequest("/v1/users/".concat(t,"/wallets/").concat(e,"/receive_signed_address")),{addressSignature:n,address:i}=Oi(Ti(r),"addresses");return{addressSignature:n,address:i}}async getCurrencyAmount(t,e){const r=Di(Si("currency",e)),n=await this._doPostRequest("/v1/users/".concat(t,"/currency"),r),{amount:i,currency:s}=Oi(Ti(n),"currency");return{amount:i,currency:s}}async getWalletBalance(t,e){return Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/wallets/").concat(e,"/balance"))),"amounts")}async updateWallet(t,e,r){const n=Di(ki(e,"wallets",r));await this._doPatchRequest("/v1/users/".concat(t,"/wallets/").concat(e),n)}async getUserPayments(t,e){const r=await this._doGetRequest("/v1/users/".concat(t,"/payments?").concat(this._paginateUri(e)));return{pages:r.meta["total-pages"],payments:r.data.map(t=>Oi(t,"payments"))}}async getOwnPayments(t){const e=await this._doGetRequest("/v1/payments",t);return bi.deserialize(e)}async getPaymentById(t){const e=await this._doGetRequest("/v1/payments/".concat(t));return bi.deserialize(e)}_paginateUri({number:t,size:e,sort:r}){const n=[];return t&&n.push("page[number]=".concat(t)),e&&n.push("page[size]=".concat(e)),r&&n.push("sort=".concat(r)),n.join("&")}async createUserPayment(t,e,r,n=[]){return this._doPostRequest("/v2/me/payments",Ts({},e,{paymentOutputs:r,cryptoOperations:n}))}async estimatePaymentAmount(t,e,r,n=[]){return this._doPostRequest("/v2/me/payments/estimate",Ts({},e,{paymentOutputs:r,cryptoOperations:n}))}async getUserPayment(t){return this._doGetRequest("/v2/me/payments/".concat(t))}async createUserDeposit(t,e){const r=Di(Si("deposits",e));return Oi(Ti(await this._doPostRequest("/v1/users/".concat(t,"/deposits"),r)),"deposits")}async getUserDeposit(t,e){return Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/deposits/").concat(e))),"deposits")}async createUserRecoverFullAmountPayment(t){return this._doPostRequest("/v2/me/wallets/".concat(t,"/recover-full-amount"))}async broadcastPayment(t){let{id:e}=t;const r=n(t,["id"]);return await this._doPatchRequest("/v2/payments/".concat(e,"/broadcast"),r)}async getSupportedCryptocurrencies(t={}){return Ai(Ti(await this._doGetRequest("/v1/currencies/crypto",t)),"currencies")}async getSupportedFiatCurrencies(t={}){return Ai(Ti(await this._doGetRequest("/v1/currencies/fiat",t)),"currencies")}async fetchUiData(t){return Oi(Ti(await this._doGetRequest("/v1/users/".concat(t,"/ui-data"))),"ui-data")}async updateUiData(t,e){return Oi(Ti(await this._doPatchRequest("/v1/users/".concat(t,"/ui-data"),Di(Si("ui-data",e)))),"ui-data")}createAsset(t,e,r,n,i,s,a){return this._doPostRequest("/v2/me/assets",{protocol:t,name:e,initialSupply:r,avatar:n,paymailAlias:i,paymailDomain:s,url:a})}getUserAssets(){return this._doGetRequest("/v2/me/assets")}createUserDomain(t){return this._doPostRequest("/v2/me/domains",{domain:t})}validateUserDomain(t){return this._doPostRequest("/v2/me/domains/".concat(t,"/validate"))}getUserDomains(){return this._doGetRequest("/v2/me/domains")}deleteUserDomain(t){return this._doDeleteRequest("/v2/me/domains/".concat(t))}async _doGetRequest(t,e={},r=null){return this._doRequest(t,{method:"GET"},e,r)}async _doDeleteRequest(t,e={},r=null){return this._doRequest(t,{method:"DELETE"},e,r)}async _doPostRequest(t,e={},r={},n=null){let i={method:"POST",body:JSON.stringify(e)};return this._doRequest(t,i,r,n)}async _doPatchRequest(t,e={},r=null){let n={method:"PATCH",body:JSON.stringify(e)};return this._doRequest(t,n,{},r)}async _doPutRequest(t,e={},r=null){let n={method:"PUT",body:JSON.stringify(e)};return this._doRequest(t,n,{},r)}async _doRequest(t,e={},r={},n=null){const i=this._appendQuery("".concat(this.mbUrl,"/api").concat(t),r),s=t.includes("v1")?"application/vnd.api+json":"application/json",a={Accept:s,"Content-Type":s};null!==(n=n||await this.getValidAccessToken())&&(a.Authorization="Bearer ".concat(n));const o=await ts(i,Ts({},e,{headers:a}));let u=null;try{u=await o.json()}catch(t){throw new Os(o.status,"api error","api error")}if(u.errors instanceof Array){let t=u.errors[0];if(t.status){let{status:e,title:r,detail:n}=t;throw new Os(e,r,n)}throw new Error(t.title)}if(!o.ok){if(400===o.status)throw console.info("API returned a validation failure",u),new Os(o.status,"API Validation Error","There seems to be a problem with Money Button's configuration");throw new Os(o.status,"api error","api error")}return u}_appendQuery(t,e={}){if(0===Object.keys(e).length)return t;const{page:r}=e,i=n(e,["page"]);if(void 0!==r)for(const t in r)i["page[".concat(t,"]")]=r[t];return"".concat(t,"?").concat(hs.stringify(i,{arrayFormat:"bracket"}))}_getUrlQuery(){return hs.parse(r.search)}_redirectToUri(t){r.href=t}_getRedirectUri(){return t.getItem(xs)}_setRedirectUri(e){t.setItem(xs,e)}_clearRedirectUri(){t.removeItem(xs)}_getState(){return t.getItem(js)}_setState(e){t.setItem(js,e)}_clearState(){t.removeItem(js)}getStoredWalletData(e,r){const n=t.getItem("".concat(Ps,":").concat(e,":").concat(r,":wallet_data"));try{return JSON.parse(n)}catch(t){return null}}saveWalletData(e,r,n){const i=JSON.stringify(n),s="".concat(Ps,":").concat(e,":").concat(r,":wallet_data");t.setItem(s,i)}async _hashPassword(t){return i._computeHmac256("yours login password",t)}async _getCurrentUser(){if(null===this._currentUser){const{id:t}=await this.getIdentity(),e=await this.getUser(t);this._currentUser=e}return this._currentUser}_clearCurrentUser(){this._currentUser=null}getAccessToken(){return t.getItem(Us)}setAccessToken(e){t.setItem(Us,e)}clearAccessToken(){t.removeItem(Us)}getExpirationTime(){return t.getItem(Ys)}setExpirationTime(e){t.setItem(Ys,e)}clearExpirationTime(){t.removeItem(Ys)}getRefreshToken(){return t.getItem(Cs)}getRefreshTokenStorageKey(){return Cs}setRefreshToken(e){t.setItem(Cs,e)}clearRefreshToken(){t.removeItem(Cs)}static async _computeHmac256(t,e){const r=Rs.hmac(Buffer.from(t),Buffer.from(e));return Buffer.from(r).toString("hex")}}return i}(window.localStorage,window.location);return t.AuthError=e,t.MoneyButtonClient=Ls,t.RestError=Os,t}({});
//# sourceMappingURL=moneybutton.client.iife.js.map
